!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["factom-vote-struct"]=r():e["factom-vote-struct"]=r()}(window,function(){return function(e){var r={};function t(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(a,i,function(r){return e[r]}.bind(null,i));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=97)}([function(e,r,t){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var a=t(45),i=t(46),n=t(35);function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,r){if(o()<r)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r)).__proto__=h.prototype:(null===e&&(e=new h(r)),e.length=r),e}function h(e,r,t){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(e,r,t);if("number"==typeof e){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,r,t)}function u(e,r,t,a){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(e,r,t,a){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(a||0))throw new RangeError("'length' is out of bounds");r=void 0===t&&void 0===a?new Uint8Array(r):void 0===a?new Uint8Array(r,t):new Uint8Array(r,t,a);h.TYPED_ARRAY_SUPPORT?(e=r).__proto__=h.prototype:e=f(e,r);return e}(e,r,t,a):"string"==typeof r?function(e,r,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var a=0|p(r,t),i=(e=s(e,a)).write(r,t);i!==a&&(e=e.slice(0,i));return e}(e,r,t):function(e,r){if(h.isBuffer(r)){var t=0|d(r.length);return 0===(e=s(e,t)).length?e:(r.copy(e,0,0,t),e)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(e){return e!=e}(r.length)?s(e,0):f(e,r);if("Buffer"===r.type&&n(r.data))return f(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,r)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,r){if(c(r),e=s(e,r<0?0:0|d(r)),!h.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}function f(e,r){var t=r.length<0?0:0|d(r.length);e=s(e,t);for(var a=0;a<t;a+=1)e[a]=255&r[a];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,r){if(h.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var t=e.length;if(0===t)return 0;for(var a=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return z(e).length;default:if(a)return B(e).length;r=(""+r).toLowerCase(),a=!0}}function m(e,r,t){var a=e[r];e[r]=e[t],e[t]=a}function v(e,r,t,a,i){if(0===e.length)return-1;if("string"==typeof t?(a=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0){if(!i)return-1;t=0}if("string"==typeof r&&(r=h.from(r,a)),h.isBuffer(r))return 0===r.length?-1:g(e,r,t,a,i);if("number"==typeof r)return r&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):g(e,[r],t,a,i);throw new TypeError("val must be string, number or Buffer")}function g(e,r,t,a,i){var n,o=1,s=e.length,h=r.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||r.length<2)return-1;o=2,s/=2,h/=2,t/=2}function u(e,r){return 1===o?e[r]:e.readUInt16BE(r*o)}if(i){var c=-1;for(n=t;n<s;n++)if(u(e,n)===u(r,-1===c?0:n-c)){if(-1===c&&(c=n),n-c+1===h)return c*o}else-1!==c&&(n-=n-c),c=-1}else for(t+h>s&&(t=s-h),n=t;n>=0;n--){for(var l=!0,f=0;f<h;f++)if(u(e,n+f)!==u(r,f)){l=!1;break}if(l)return n}return-1}function y(e,r,t,a){t=Number(t)||0;var i=e.length-t;a?(a=Number(a))>i&&(a=i):a=i;var n=r.length;if(n%2!=0)throw new TypeError("Invalid hex string");a>n/2&&(a=n/2);for(var o=0;o<a;++o){var s=parseInt(r.substr(2*o,2),16);if(isNaN(s))return o;e[t+o]=s}return o}function E(e,r,t,a){return M(B(r,e.length-t),e,t,a)}function P(e,r,t,a){return M(function(e){for(var r=[],t=0;t<e.length;++t)r.push(255&e.charCodeAt(t));return r}(r),e,t,a)}function w(e,r,t,a){return P(e,r,t,a)}function b(e,r,t,a){return M(z(r),e,t,a)}function _(e,r,t,a){return M(function(e,r){for(var t,a,i,n=[],o=0;o<e.length&&!((r-=2)<0);++o)t=e.charCodeAt(o),a=t>>8,i=t%256,n.push(i),n.push(a);return n}(r,e.length-t),e,t,a)}function S(e,r,t){return 0===r&&t===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(r,t))}function A(e,r,t){t=Math.min(e.length,t);for(var a=[],i=r;i<t;){var n,o,s,h,u=e[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=t)switch(l){case 1:u<128&&(c=u);break;case 2:128==(192&(n=e[i+1]))&&(h=(31&u)<<6|63&n)>127&&(c=h);break;case 3:n=e[i+1],o=e[i+2],128==(192&n)&&128==(192&o)&&(h=(15&u)<<12|(63&n)<<6|63&o)>2047&&(h<55296||h>57343)&&(c=h);break;case 4:n=e[i+1],o=e[i+2],s=e[i+3],128==(192&n)&&128==(192&o)&&128==(192&s)&&(h=(15&u)<<18|(63&n)<<12|(63&o)<<6|63&s)>65535&&h<1114112&&(c=h)}null===c?(c=65533,l=1):c>65535&&(c-=65536,a.push(c>>>10&1023|55296),c=56320|1023&c),a.push(c),i+=l}return function(e){var r=e.length;if(r<=x)return String.fromCharCode.apply(String,e);var t="",a=0;for(;a<r;)t+=String.fromCharCode.apply(String,e.slice(a,a+=x));return t}(a)}r.Buffer=h,r.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=o(),h.poolSize=8192,h._augment=function(e){return e.__proto__=h.prototype,e},h.from=function(e,r,t){return u(null,e,r,t)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(e,r,t){return function(e,r,t,a){return c(r),r<=0?s(e,r):void 0!==t?"string"==typeof a?s(e,r).fill(t,a):s(e,r).fill(t):s(e,r)}(null,e,r,t)},h.allocUnsafe=function(e){return l(null,e)},h.allocUnsafeSlow=function(e){return l(null,e)},h.isBuffer=function(e){return!(null==e||!e._isBuffer)},h.compare=function(e,r){if(!h.isBuffer(e)||!h.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var t=e.length,a=r.length,i=0,n=Math.min(t,a);i<n;++i)if(e[i]!==r[i]){t=e[i],a=r[i];break}return t<a?-1:a<t?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,r){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var t;if(void 0===r)for(r=0,t=0;t<e.length;++t)r+=e[t].length;var a=h.allocUnsafe(r),i=0;for(t=0;t<e.length;++t){var o=e[t];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,i),i+=o.length}return a},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)m(this,r,r+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},h.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,r,t){var a=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,r,t);case"utf8":case"utf-8":return A(this,r,t);case"ascii":return R(this,r,t);case"latin1":case"binary":return I(this,r,t);case"base64":return S(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,r,t);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},h.prototype.compare=function(e,r,t,a,i){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===t&&(t=e?e.length:0),void 0===a&&(a=0),void 0===i&&(i=this.length),r<0||t>e.length||a<0||i>this.length)throw new RangeError("out of range index");if(a>=i&&r>=t)return 0;if(a>=i)return-1;if(r>=t)return 1;if(r>>>=0,t>>>=0,a>>>=0,i>>>=0,this===e)return 0;for(var n=i-a,o=t-r,s=Math.min(n,o),u=this.slice(a,i),c=e.slice(r,t),l=0;l<s;++l)if(u[l]!==c[l]){n=u[l],o=c[l];break}return n<o?-1:o<n?1:0},h.prototype.includes=function(e,r,t){return-1!==this.indexOf(e,r,t)},h.prototype.indexOf=function(e,r,t){return v(this,e,r,t,!0)},h.prototype.lastIndexOf=function(e,r,t){return v(this,e,r,t,!1)},h.prototype.write=function(e,r,t,a){if(void 0===r)a="utf8",t=this.length,r=0;else if(void 0===t&&"string"==typeof r)a=r,t=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(t)?(t|=0,void 0===a&&(a="utf8")):(a=t,t=void 0)}var i=this.length-r;if((void 0===t||t>i)&&(t=i),e.length>0&&(t<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var n=!1;;)switch(a){case"hex":return y(this,e,r,t);case"utf8":case"utf-8":return E(this,e,r,t);case"ascii":return P(this,e,r,t);case"latin1":case"binary":return w(this,e,r,t);case"base64":return b(this,e,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,r,t);default:if(n)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),n=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function R(e,r,t){var a="";t=Math.min(e.length,t);for(var i=r;i<t;++i)a+=String.fromCharCode(127&e[i]);return a}function I(e,r,t){var a="";t=Math.min(e.length,t);for(var i=r;i<t;++i)a+=String.fromCharCode(e[i]);return a}function D(e,r,t){var a=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>a)&&(t=a);for(var i="",n=r;n<t;++n)i+=N(e[n]);return i}function F(e,r,t){for(var a=e.slice(r,t),i="",n=0;n<a.length;n+=2)i+=String.fromCharCode(a[n]+256*a[n+1]);return i}function C(e,r,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}function O(e,r,t,a,i,n){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<n)throw new RangeError('"value" argument is out of bounds');if(t+a>e.length)throw new RangeError("Index out of range")}function T(e,r,t,a){r<0&&(r=65535+r+1);for(var i=0,n=Math.min(e.length-t,2);i<n;++i)e[t+i]=(r&255<<8*(a?i:1-i))>>>8*(a?i:1-i)}function $(e,r,t,a){r<0&&(r=4294967295+r+1);for(var i=0,n=Math.min(e.length-t,4);i<n;++i)e[t+i]=r>>>8*(a?i:3-i)&255}function U(e,r,t,a,i,n){if(t+a>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function k(e,r,t,a,n){return n||U(e,0,t,4),i.write(e,r,t,a,23,4),t+4}function L(e,r,t,a,n){return n||U(e,0,t,8),i.write(e,r,t,a,52,8),t+8}h.prototype.slice=function(e,r){var t,a=this.length;if(e=~~e,r=void 0===r?a:~~r,e<0?(e+=a)<0&&(e=0):e>a&&(e=a),r<0?(r+=a)<0&&(r=0):r>a&&(r=a),r<e&&(r=e),h.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,r)).__proto__=h.prototype;else{var i=r-e;t=new h(i,void 0);for(var n=0;n<i;++n)t[n]=this[n+e]}return t},h.prototype.readUIntLE=function(e,r,t){e|=0,r|=0,t||C(e,r,this.length);for(var a=this[e],i=1,n=0;++n<r&&(i*=256);)a+=this[e+n]*i;return a},h.prototype.readUIntBE=function(e,r,t){e|=0,r|=0,t||C(e,r,this.length);for(var a=this[e+--r],i=1;r>0&&(i*=256);)a+=this[e+--r]*i;return a},h.prototype.readUInt8=function(e,r){return r||C(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,r){return r||C(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,r){return r||C(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,r){return r||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,r){return r||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,r,t){e|=0,r|=0,t||C(e,r,this.length);for(var a=this[e],i=1,n=0;++n<r&&(i*=256);)a+=this[e+n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*r)),a},h.prototype.readIntBE=function(e,r,t){e|=0,r|=0,t||C(e,r,this.length);for(var a=r,i=1,n=this[e+--a];a>0&&(i*=256);)n+=this[e+--a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},h.prototype.readInt8=function(e,r){return r||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,r){r||C(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(e,r){r||C(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(e,r){return r||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,r){return r||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,r){return r||C(e,4,this.length),i.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,r){return r||C(e,4,this.length),i.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,r){return r||C(e,8,this.length),i.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,r){return r||C(e,8,this.length),i.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,r,t,a){(e=+e,r|=0,t|=0,a)||O(this,e,r,t,Math.pow(2,8*t)-1,0);var i=1,n=0;for(this[r]=255&e;++n<t&&(i*=256);)this[r+n]=e/i&255;return r+t},h.prototype.writeUIntBE=function(e,r,t,a){(e=+e,r|=0,t|=0,a)||O(this,e,r,t,Math.pow(2,8*t)-1,0);var i=t-1,n=1;for(this[r+i]=255&e;--i>=0&&(n*=256);)this[r+i]=e/n&255;return r+t},h.prototype.writeUInt8=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,1,255,0),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},h.prototype.writeUInt16LE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):T(this,e,r,!0),r+2},h.prototype.writeUInt16BE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):T(this,e,r,!1),r+2},h.prototype.writeUInt32LE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):$(this,e,r,!0),r+4},h.prototype.writeUInt32BE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):$(this,e,r,!1),r+4},h.prototype.writeIntLE=function(e,r,t,a){if(e=+e,r|=0,!a){var i=Math.pow(2,8*t-1);O(this,e,r,t,i-1,-i)}var n=0,o=1,s=0;for(this[r]=255&e;++n<t&&(o*=256);)e<0&&0===s&&0!==this[r+n-1]&&(s=1),this[r+n]=(e/o>>0)-s&255;return r+t},h.prototype.writeIntBE=function(e,r,t,a){if(e=+e,r|=0,!a){var i=Math.pow(2,8*t-1);O(this,e,r,t,i-1,-i)}var n=t-1,o=1,s=0;for(this[r+n]=255&e;--n>=0&&(o*=256);)e<0&&0===s&&0!==this[r+n+1]&&(s=1),this[r+n]=(e/o>>0)-s&255;return r+t},h.prototype.writeInt8=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,1,127,-128),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},h.prototype.writeInt16LE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):T(this,e,r,!0),r+2},h.prototype.writeInt16BE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):T(this,e,r,!1),r+2},h.prototype.writeInt32LE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):$(this,e,r,!0),r+4},h.prototype.writeInt32BE=function(e,r,t){return e=+e,r|=0,t||O(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),h.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):$(this,e,r,!1),r+4},h.prototype.writeFloatLE=function(e,r,t){return k(this,e,r,!0,t)},h.prototype.writeFloatBE=function(e,r,t){return k(this,e,r,!1,t)},h.prototype.writeDoubleLE=function(e,r,t){return L(this,e,r,!0,t)},h.prototype.writeDoubleBE=function(e,r,t){return L(this,e,r,!1,t)},h.prototype.copy=function(e,r,t,a){if(t||(t=0),a||0===a||(a=this.length),r>=e.length&&(r=e.length),r||(r=0),a>0&&a<t&&(a=t),a===t)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-r<a-t&&(a=e.length-r+t);var i,n=a-t;if(this===e&&t<r&&r<a)for(i=n-1;i>=0;--i)e[i+r]=this[i+t];else if(n<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<n;++i)e[i+r]=this[i+t];else Uint8Array.prototype.set.call(e,this.subarray(t,t+n),r);return n},h.prototype.fill=function(e,r,t,a){if("string"==typeof e){if("string"==typeof r?(a=r,r=0,t=this.length):"string"==typeof t&&(a=t,t=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!h.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<t)throw new RangeError("Out of range index");if(t<=r)return this;var n;if(r>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(n=r;n<t;++n)this[n]=e;else{var o=h.isBuffer(e)?e:B(new h(e,a).toString()),s=o.length;for(n=0;n<t-r;++n)this[n+r]=o[n%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,r){var t;r=r||1/0;for(var a=e.length,i=null,n=[],o=0;o<a;++o){if((t=e.charCodeAt(o))>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&n.push(239,191,189);continue}if(o+1===a){(r-=3)>-1&&n.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&n.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&n.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;n.push(t)}else if(t<2048){if((r-=2)<0)break;n.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;n.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;n.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return n}function z(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,r,t,a){for(var i=0;i<a&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}}).call(this,t(5))},,function(e,r,t){"use strict";var a=t(11),i=t(14);function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var t=[];if("string"==typeof e)if(r){if("hex"===r)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)t.push(parseInt(e[a]+e[a+1],16))}else for(var a=0;a<e.length;a++){var i=e.charCodeAt(a),n=i>>8,o=255&i;n?t.push(n,o):t.push(o)}else for(a=0;a<e.length;a++)t[a]=0|e[a];return t},r.toHex=function(e){for(var r="",t=0;t<e.length;t++)r+=o(e[t].toString(16));return r},r.htonl=n,r.toHex32=function(e,r){for(var t="",a=0;a<e.length;a++){var i=e[a];"little"===r&&(i=n(i)),t+=s(i.toString(16))}return t},r.zero2=o,r.zero8=s,r.join32=function(e,r,t,i){var n=t-r;a(n%4==0);for(var o=new Array(n/4),s=0,h=r;s<o.length;s++,h+=4){var u;u="big"===i?e[h]<<24|e[h+1]<<16|e[h+2]<<8|e[h+3]:e[h+3]<<24|e[h+2]<<16|e[h+1]<<8|e[h],o[s]=u>>>0}return o},r.split32=function(e,r){for(var t=new Array(4*e.length),a=0,i=0;a<e.length;a++,i+=4){var n=e[a];"big"===r?(t[i]=n>>>24,t[i+1]=n>>>16&255,t[i+2]=n>>>8&255,t[i+3]=255&n):(t[i+3]=n>>>24,t[i+2]=n>>>16&255,t[i+1]=n>>>8&255,t[i]=255&n)}return t},r.rotr32=function(e,r){return e>>>r|e<<32-r},r.rotl32=function(e,r){return e<<r|e>>>32-r},r.sum32=function(e,r){return e+r>>>0},r.sum32_3=function(e,r,t){return e+r+t>>>0},r.sum32_4=function(e,r,t,a){return e+r+t+a>>>0},r.sum32_5=function(e,r,t,a,i){return e+r+t+a+i>>>0},r.sum64=function(e,r,t,a){var i=e[r],n=a+e[r+1]>>>0,o=(n<a?1:0)+t+i;e[r]=o>>>0,e[r+1]=n},r.sum64_hi=function(e,r,t,a){return(r+a>>>0<r?1:0)+e+t>>>0},r.sum64_lo=function(e,r,t,a){return r+a>>>0},r.sum64_4_hi=function(e,r,t,a,i,n,o,s){var h=0,u=r;return h+=(u=u+a>>>0)<r?1:0,h+=(u=u+n>>>0)<n?1:0,e+t+i+o+(h+=(u=u+s>>>0)<s?1:0)>>>0},r.sum64_4_lo=function(e,r,t,a,i,n,o,s){return r+a+n+s>>>0},r.sum64_5_hi=function(e,r,t,a,i,n,o,s,h,u){var c=0,l=r;return c+=(l=l+a>>>0)<r?1:0,c+=(l=l+n>>>0)<n?1:0,c+=(l=l+s>>>0)<s?1:0,e+t+i+o+h+(c+=(l=l+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,r,t,a,i,n,o,s,h,u){return r+a+n+s+u>>>0},r.rotr64_hi=function(e,r,t){return(r<<32-t|e>>>t)>>>0},r.rotr64_lo=function(e,r,t){return(e<<32-t|r>>>t)>>>0},r.shr64_hi=function(e,r,t){return e>>>t},r.shr64_lo=function(e,r,t){return(e<<32-t|r>>>t)>>>0}},,function(e,r,t){!function(e){"use strict";var r=function(e){var r,t=new Float64Array(16);if(e)for(r=0;r<e.length;r++)t[r]=e[r];return t},a=function(){throw new Error("no PRNG")},i=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var o=r(),s=r([1]),h=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,r,t,a){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t,e[r+4]=a>>24&255,e[r+5]=a>>16&255,e[r+6]=a>>8&255,e[r+7]=255&a}function m(e,r,t,a,i){var n,o=0;for(n=0;n<i;n++)o|=e[r+n]^t[a+n];return(1&o-1>>>8)-1}function v(e,r,t,a){return m(e,r,t,a,16)}function g(e,r,t,a){return m(e,r,t,a,32)}function y(e,r,t,a){!function(e,r,t,a){for(var i,n=255&a[0]|(255&a[1])<<8|(255&a[2])<<16|(255&a[3])<<24,o=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,s=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,u=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&a[4]|(255&a[5])<<8|(255&a[6])<<16|(255&a[7])<<24,l=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,p=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=255&a[8]|(255&a[9])<<8|(255&a[10])<<16|(255&a[11])<<24,v=255&t[16]|(255&t[17])<<8|(255&t[18])<<16|(255&t[19])<<24,g=255&t[20]|(255&t[21])<<8|(255&t[22])<<16|(255&t[23])<<24,y=255&t[24]|(255&t[25])<<8|(255&t[26])<<16|(255&t[27])<<24,E=255&t[28]|(255&t[29])<<8|(255&t[30])<<16|(255&t[31])<<24,P=255&a[12]|(255&a[13])<<8|(255&a[14])<<16|(255&a[15])<<24,w=n,b=o,_=s,S=h,A=u,x=c,R=l,I=f,D=d,F=p,C=m,O=v,T=g,$=y,U=E,k=P,L=0;L<20;L+=2)w^=(i=(T^=(i=(D^=(i=(A^=(i=w+T|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+D|0)<<18|i>>>14,x^=(i=(b^=(i=($^=(i=(F^=(i=x+b|0)<<7|i>>>25)+x|0)<<9|i>>>23)+F|0)<<13|i>>>19)+$|0)<<18|i>>>14,C^=(i=(R^=(i=(_^=(i=(U^=(i=C+R|0)<<7|i>>>25)+C|0)<<9|i>>>23)+U|0)<<13|i>>>19)+_|0)<<18|i>>>14,k^=(i=(O^=(i=(I^=(i=(S^=(i=k+O|0)<<7|i>>>25)+k|0)<<9|i>>>23)+S|0)<<13|i>>>19)+I|0)<<18|i>>>14,w^=(i=(S^=(i=(_^=(i=(b^=(i=w+S|0)<<7|i>>>25)+w|0)<<9|i>>>23)+b|0)<<13|i>>>19)+_|0)<<18|i>>>14,x^=(i=(A^=(i=(I^=(i=(R^=(i=x+A|0)<<7|i>>>25)+x|0)<<9|i>>>23)+R|0)<<13|i>>>19)+I|0)<<18|i>>>14,C^=(i=(F^=(i=(D^=(i=(O^=(i=C+F|0)<<7|i>>>25)+C|0)<<9|i>>>23)+O|0)<<13|i>>>19)+D|0)<<18|i>>>14,k^=(i=(U^=(i=($^=(i=(T^=(i=k+U|0)<<7|i>>>25)+k|0)<<9|i>>>23)+T|0)<<13|i>>>19)+$|0)<<18|i>>>14;w=w+n|0,b=b+o|0,_=_+s|0,S=S+h|0,A=A+u|0,x=x+c|0,R=R+l|0,I=I+f|0,D=D+d|0,F=F+p|0,C=C+m|0,O=O+v|0,T=T+g|0,$=$+y|0,U=U+E|0,k=k+P|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=D>>>0&255,e[33]=D>>>8&255,e[34]=D>>>16&255,e[35]=D>>>24&255,e[36]=F>>>0&255,e[37]=F>>>8&255,e[38]=F>>>16&255,e[39]=F>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=T>>>0&255,e[49]=T>>>8&255,e[50]=T>>>16&255,e[51]=T>>>24&255,e[52]=$>>>0&255,e[53]=$>>>8&255,e[54]=$>>>16&255,e[55]=$>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=k>>>0&255,e[61]=k>>>8&255,e[62]=k>>>16&255,e[63]=k>>>24&255}(e,r,t,a)}function E(e,r,t,a){!function(e,r,t,a){for(var i,n=255&a[0]|(255&a[1])<<8|(255&a[2])<<16|(255&a[3])<<24,o=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,s=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,u=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&a[4]|(255&a[5])<<8|(255&a[6])<<16|(255&a[7])<<24,l=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,p=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,m=255&a[8]|(255&a[9])<<8|(255&a[10])<<16|(255&a[11])<<24,v=255&t[16]|(255&t[17])<<8|(255&t[18])<<16|(255&t[19])<<24,g=255&t[20]|(255&t[21])<<8|(255&t[22])<<16|(255&t[23])<<24,y=255&t[24]|(255&t[25])<<8|(255&t[26])<<16|(255&t[27])<<24,E=255&t[28]|(255&t[29])<<8|(255&t[30])<<16|(255&t[31])<<24,P=255&a[12]|(255&a[13])<<8|(255&a[14])<<16|(255&a[15])<<24,w=0;w<20;w+=2)n^=(i=(g^=(i=(d^=(i=(u^=(i=n+g|0)<<7|i>>>25)+n|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,c^=(i=(o^=(i=(y^=(i=(p^=(i=c+o|0)<<7|i>>>25)+c|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(l^=(i=(s^=(i=(E^=(i=m+l|0)<<7|i>>>25)+m|0)<<9|i>>>23)+E|0)<<13|i>>>19)+s|0)<<18|i>>>14,P^=(i=(v^=(i=(f^=(i=(h^=(i=P+v|0)<<7|i>>>25)+P|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,n^=(i=(h^=(i=(s^=(i=(o^=(i=n+h|0)<<7|i>>>25)+n|0)<<9|i>>>23)+o|0)<<13|i>>>19)+s|0)<<18|i>>>14,c^=(i=(u^=(i=(f^=(i=(l^=(i=c+u|0)<<7|i>>>25)+c|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(v^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+d|0)<<18|i>>>14,P^=(i=(E^=(i=(y^=(i=(g^=(i=P+E|0)<<7|i>>>25)+P|0)<<9|i>>>23)+g|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=n>>>0&255,e[1]=n>>>8&255,e[2]=n>>>16&255,e[3]=n>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=P>>>0&255,e[13]=P>>>8&255,e[14]=P>>>16&255,e[15]=P>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,r,t,a)}var P=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,r,t,a,i,n,o){var s,h,u=new Uint8Array(16),c=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=n[h];for(;i>=64;){for(y(c,u,o,P),h=0;h<64;h++)e[r+h]=t[a+h]^c[h];for(s=1,h=8;h<16;h++)s=s+(255&u[h])|0,u[h]=255&s,s>>>=8;i-=64,r+=64,a+=64}if(i>0)for(y(c,u,o,P),h=0;h<i;h++)e[r+h]=t[a+h]^c[h];return 0}function b(e,r,t,a,i){var n,o,s=new Uint8Array(16),h=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=a[o];for(;t>=64;){for(y(h,s,i,P),o=0;o<64;o++)e[r+o]=h[o];for(n=1,o=8;o<16;o++)n=n+(255&s[o])|0,s[o]=255&n,n>>>=8;t-=64,r+=64}if(t>0)for(y(h,s,i,P),o=0;o<t;o++)e[r+o]=h[o];return 0}function _(e,r,t,a,i){var n=new Uint8Array(32);E(n,a,i,P);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=a[s+16];return b(e,r,t,o,n)}function S(e,r,t,a,i,n,o){var s=new Uint8Array(32);E(s,n,o,P);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=n[u+16];return w(e,r,t,a,i,h,s)}var A=function(e){var r,t,a,i,n,o,s,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,r=255&e[0]|(255&e[1])<<8,this.r[0]=8191&r,t=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(r>>>13|t<<3),a=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(t>>>10|a<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(a>>>7|i<<9),n=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|n<<12),this.r[5]=n>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(n>>>14|o<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|s<<5),h=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function x(e,r,t,a,i,n){var o=new A(n);return o.update(t,a,i),o.finish(e,r),0}function R(e,r,t,a,i,n){var o=new Uint8Array(16);return x(o,0,t,a,i,n),v(e,r,o,0)}function I(e,r,t,a,i){var n;if(t<32)return-1;for(S(e,0,r,0,t,a,i),x(e,16,e,32,t-32,e),n=0;n<16;n++)e[n]=0;return 0}function D(e,r,t,a,i){var n,o=new Uint8Array(32);if(t<32)return-1;if(_(o,0,32,a,i),0!==R(r,16,r,32,t-32,o))return-1;for(S(e,0,r,0,t,a,i),n=0;n<32;n++)e[n]=0;return 0}function F(e,r){var t;for(t=0;t<16;t++)e[t]=0|r[t]}function C(e){var r,t,a=1;for(r=0;r<16;r++)t=e[r]+a+65535,a=Math.floor(t/65536),e[r]=t-65536*a;e[0]+=a-1+37*(a-1)}function O(e,r,t){for(var a,i=~(t-1),n=0;n<16;n++)a=i&(e[n]^r[n]),e[n]^=a,r[n]^=a}function T(e,t){var a,i,n,o=r(),s=r();for(a=0;a<16;a++)s[a]=t[a];for(C(s),C(s),C(s),i=0;i<2;i++){for(o[0]=s[0]-65517,a=1;a<15;a++)o[a]=s[a]-65535-(o[a-1]>>16&1),o[a-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),n=o[15]>>16&1,o[14]&=65535,O(s,o,1-n)}for(a=0;a<16;a++)e[2*a]=255&s[a],e[2*a+1]=s[a]>>8}function $(e,r){var t=new Uint8Array(32),a=new Uint8Array(32);return T(t,e),T(a,r),g(t,0,a,0)}function U(e){var r=new Uint8Array(32);return T(r,e),1&r[0]}function k(e,r){var t;for(t=0;t<16;t++)e[t]=r[2*t]+(r[2*t+1]<<8);e[15]&=32767}function L(e,r,t){for(var a=0;a<16;a++)e[a]=r[a]+t[a]}function j(e,r,t){for(var a=0;a<16;a++)e[a]=r[a]-t[a]}function N(e,r,t){var a,i,n=0,o=0,s=0,h=0,u=0,c=0,l=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,E=0,P=0,w=0,b=0,_=0,S=0,A=0,x=0,R=0,I=0,D=0,F=0,C=0,O=0,T=0,$=0,U=0,k=t[0],L=t[1],j=t[2],N=t[3],B=t[4],z=t[5],M=t[6],V=t[7],q=t[8],H=t[9],Y=t[10],K=t[11],Q=t[12],Z=t[13],X=t[14],J=t[15];n+=(a=r[0])*k,o+=a*L,s+=a*j,h+=a*N,u+=a*B,c+=a*z,l+=a*M,f+=a*V,d+=a*q,p+=a*H,m+=a*Y,v+=a*K,g+=a*Q,y+=a*Z,E+=a*X,P+=a*J,o+=(a=r[1])*k,s+=a*L,h+=a*j,u+=a*N,c+=a*B,l+=a*z,f+=a*M,d+=a*V,p+=a*q,m+=a*H,v+=a*Y,g+=a*K,y+=a*Q,E+=a*Z,P+=a*X,w+=a*J,s+=(a=r[2])*k,h+=a*L,u+=a*j,c+=a*N,l+=a*B,f+=a*z,d+=a*M,p+=a*V,m+=a*q,v+=a*H,g+=a*Y,y+=a*K,E+=a*Q,P+=a*Z,w+=a*X,b+=a*J,h+=(a=r[3])*k,u+=a*L,c+=a*j,l+=a*N,f+=a*B,d+=a*z,p+=a*M,m+=a*V,v+=a*q,g+=a*H,y+=a*Y,E+=a*K,P+=a*Q,w+=a*Z,b+=a*X,_+=a*J,u+=(a=r[4])*k,c+=a*L,l+=a*j,f+=a*N,d+=a*B,p+=a*z,m+=a*M,v+=a*V,g+=a*q,y+=a*H,E+=a*Y,P+=a*K,w+=a*Q,b+=a*Z,_+=a*X,S+=a*J,c+=(a=r[5])*k,l+=a*L,f+=a*j,d+=a*N,p+=a*B,m+=a*z,v+=a*M,g+=a*V,y+=a*q,E+=a*H,P+=a*Y,w+=a*K,b+=a*Q,_+=a*Z,S+=a*X,A+=a*J,l+=(a=r[6])*k,f+=a*L,d+=a*j,p+=a*N,m+=a*B,v+=a*z,g+=a*M,y+=a*V,E+=a*q,P+=a*H,w+=a*Y,b+=a*K,_+=a*Q,S+=a*Z,A+=a*X,x+=a*J,f+=(a=r[7])*k,d+=a*L,p+=a*j,m+=a*N,v+=a*B,g+=a*z,y+=a*M,E+=a*V,P+=a*q,w+=a*H,b+=a*Y,_+=a*K,S+=a*Q,A+=a*Z,x+=a*X,R+=a*J,d+=(a=r[8])*k,p+=a*L,m+=a*j,v+=a*N,g+=a*B,y+=a*z,E+=a*M,P+=a*V,w+=a*q,b+=a*H,_+=a*Y,S+=a*K,A+=a*Q,x+=a*Z,R+=a*X,I+=a*J,p+=(a=r[9])*k,m+=a*L,v+=a*j,g+=a*N,y+=a*B,E+=a*z,P+=a*M,w+=a*V,b+=a*q,_+=a*H,S+=a*Y,A+=a*K,x+=a*Q,R+=a*Z,I+=a*X,D+=a*J,m+=(a=r[10])*k,v+=a*L,g+=a*j,y+=a*N,E+=a*B,P+=a*z,w+=a*M,b+=a*V,_+=a*q,S+=a*H,A+=a*Y,x+=a*K,R+=a*Q,I+=a*Z,D+=a*X,F+=a*J,v+=(a=r[11])*k,g+=a*L,y+=a*j,E+=a*N,P+=a*B,w+=a*z,b+=a*M,_+=a*V,S+=a*q,A+=a*H,x+=a*Y,R+=a*K,I+=a*Q,D+=a*Z,F+=a*X,C+=a*J,g+=(a=r[12])*k,y+=a*L,E+=a*j,P+=a*N,w+=a*B,b+=a*z,_+=a*M,S+=a*V,A+=a*q,x+=a*H,R+=a*Y,I+=a*K,D+=a*Q,F+=a*Z,C+=a*X,O+=a*J,y+=(a=r[13])*k,E+=a*L,P+=a*j,w+=a*N,b+=a*B,_+=a*z,S+=a*M,A+=a*V,x+=a*q,R+=a*H,I+=a*Y,D+=a*K,F+=a*Q,C+=a*Z,O+=a*X,T+=a*J,E+=(a=r[14])*k,P+=a*L,w+=a*j,b+=a*N,_+=a*B,S+=a*z,A+=a*M,x+=a*V,R+=a*q,I+=a*H,D+=a*Y,F+=a*K,C+=a*Q,O+=a*Z,T+=a*X,$+=a*J,P+=(a=r[15])*k,o+=38*(b+=a*j),s+=38*(_+=a*N),h+=38*(S+=a*B),u+=38*(A+=a*z),c+=38*(x+=a*M),l+=38*(R+=a*V),f+=38*(I+=a*q),d+=38*(D+=a*H),p+=38*(F+=a*Y),m+=38*(C+=a*K),v+=38*(O+=a*Q),g+=38*(T+=a*Z),y+=38*($+=a*X),E+=38*(U+=a*J),n=(a=(n+=38*(w+=a*L))+(i=1)+65535)-65536*(i=Math.floor(a/65536)),o=(a=o+i+65535)-65536*(i=Math.floor(a/65536)),s=(a=s+i+65535)-65536*(i=Math.floor(a/65536)),h=(a=h+i+65535)-65536*(i=Math.floor(a/65536)),u=(a=u+i+65535)-65536*(i=Math.floor(a/65536)),c=(a=c+i+65535)-65536*(i=Math.floor(a/65536)),l=(a=l+i+65535)-65536*(i=Math.floor(a/65536)),f=(a=f+i+65535)-65536*(i=Math.floor(a/65536)),d=(a=d+i+65535)-65536*(i=Math.floor(a/65536)),p=(a=p+i+65535)-65536*(i=Math.floor(a/65536)),m=(a=m+i+65535)-65536*(i=Math.floor(a/65536)),v=(a=v+i+65535)-65536*(i=Math.floor(a/65536)),g=(a=g+i+65535)-65536*(i=Math.floor(a/65536)),y=(a=y+i+65535)-65536*(i=Math.floor(a/65536)),E=(a=E+i+65535)-65536*(i=Math.floor(a/65536)),P=(a=P+i+65535)-65536*(i=Math.floor(a/65536)),n=(a=(n+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(a/65536)),o=(a=o+i+65535)-65536*(i=Math.floor(a/65536)),s=(a=s+i+65535)-65536*(i=Math.floor(a/65536)),h=(a=h+i+65535)-65536*(i=Math.floor(a/65536)),u=(a=u+i+65535)-65536*(i=Math.floor(a/65536)),c=(a=c+i+65535)-65536*(i=Math.floor(a/65536)),l=(a=l+i+65535)-65536*(i=Math.floor(a/65536)),f=(a=f+i+65535)-65536*(i=Math.floor(a/65536)),d=(a=d+i+65535)-65536*(i=Math.floor(a/65536)),p=(a=p+i+65535)-65536*(i=Math.floor(a/65536)),m=(a=m+i+65535)-65536*(i=Math.floor(a/65536)),v=(a=v+i+65535)-65536*(i=Math.floor(a/65536)),g=(a=g+i+65535)-65536*(i=Math.floor(a/65536)),y=(a=y+i+65535)-65536*(i=Math.floor(a/65536)),E=(a=E+i+65535)-65536*(i=Math.floor(a/65536)),P=(a=P+i+65535)-65536*(i=Math.floor(a/65536)),n+=i-1+37*(i-1),e[0]=n,e[1]=o,e[2]=s,e[3]=h,e[4]=u,e[5]=c,e[6]=l,e[7]=f,e[8]=d,e[9]=p,e[10]=m,e[11]=v,e[12]=g,e[13]=y,e[14]=E,e[15]=P}function B(e,r){N(e,r,r)}function z(e,t){var a,i=r();for(a=0;a<16;a++)i[a]=t[a];for(a=253;a>=0;a--)B(i,i),2!==a&&4!==a&&N(i,i,t);for(a=0;a<16;a++)e[a]=i[a]}function M(e,t,a){var i,n,o=new Uint8Array(32),s=new Float64Array(80),u=r(),c=r(),l=r(),f=r(),d=r(),p=r();for(n=0;n<31;n++)o[n]=t[n];for(o[31]=127&t[31]|64,o[0]&=248,k(s,a),n=0;n<16;n++)c[n]=s[n],f[n]=u[n]=l[n]=0;for(u[0]=f[0]=1,n=254;n>=0;--n)O(u,c,i=o[n>>>3]>>>(7&n)&1),O(l,f,i),L(d,u,l),j(u,u,l),L(l,c,f),j(c,c,f),B(f,d),B(p,u),N(u,l,u),N(l,c,d),L(d,u,l),j(u,u,l),B(c,u),j(l,f,p),N(u,l,h),L(u,u,f),N(l,l,u),N(u,f,p),N(f,c,s),B(c,d),O(u,c,i),O(l,f,i);for(n=0;n<16;n++)s[n+16]=u[n],s[n+32]=l[n],s[n+48]=c[n],s[n+64]=f[n];var m=s.subarray(32),v=s.subarray(16);return z(m,m),N(v,v,m),T(e,v),0}function V(e,r){return M(e,r,n)}function q(e,r){return a(r,32),V(e,r)}function H(e,r,t){var a=new Uint8Array(32);return M(a,t,r),E(e,i,a,P)}A.prototype.blocks=function(e,r,t){for(var a,i,n,o,s,h,u,c,l,f,d,p,m,v,g,y,E,P,w,b=this.fin?0:2048,_=this.h[0],S=this.h[1],A=this.h[2],x=this.h[3],R=this.h[4],I=this.h[5],D=this.h[6],F=this.h[7],C=this.h[8],O=this.h[9],T=this.r[0],$=this.r[1],U=this.r[2],k=this.r[3],L=this.r[4],j=this.r[5],N=this.r[6],B=this.r[7],z=this.r[8],M=this.r[9];t>=16;)_+=8191&(a=255&e[r+0]|(255&e[r+1])<<8),S+=8191&(a>>>13|(i=255&e[r+2]|(255&e[r+3])<<8)<<3),A+=8191&(i>>>10|(n=255&e[r+4]|(255&e[r+5])<<8)<<6),x+=8191&(n>>>7|(o=255&e[r+6]|(255&e[r+7])<<8)<<9),R+=8191&(o>>>4|(s=255&e[r+8]|(255&e[r+9])<<8)<<12),I+=s>>>1&8191,D+=8191&(s>>>14|(h=255&e[r+10]|(255&e[r+11])<<8)<<2),F+=8191&(h>>>11|(u=255&e[r+12]|(255&e[r+13])<<8)<<5),c=255&e[r+14]|(255&e[r+15])<<8,f=l=0,f+=_*T,f+=S*(5*M),f+=A*(5*z),f+=x*(5*B),l=(f+=R*(5*N))>>>13,f&=8191,f+=I*(5*j),f+=D*(5*L),f+=F*(5*k),f+=(C+=8191&(u>>>8|c<<8))*(5*U),d=l+=(f+=(O+=c>>>5|b)*(5*$))>>>13,d+=_*$,d+=S*T,d+=A*(5*M),d+=x*(5*z),l=(d+=R*(5*B))>>>13,d&=8191,d+=I*(5*N),d+=D*(5*j),d+=F*(5*L),d+=C*(5*k),l+=(d+=O*(5*U))>>>13,d&=8191,p=l,p+=_*U,p+=S*$,p+=A*T,p+=x*(5*M),l=(p+=R*(5*z))>>>13,p&=8191,p+=I*(5*B),p+=D*(5*N),p+=F*(5*j),p+=C*(5*L),m=l+=(p+=O*(5*k))>>>13,m+=_*k,m+=S*U,m+=A*$,m+=x*T,l=(m+=R*(5*M))>>>13,m&=8191,m+=I*(5*z),m+=D*(5*B),m+=F*(5*N),m+=C*(5*j),v=l+=(m+=O*(5*L))>>>13,v+=_*L,v+=S*k,v+=A*U,v+=x*$,l=(v+=R*T)>>>13,v&=8191,v+=I*(5*M),v+=D*(5*z),v+=F*(5*B),v+=C*(5*N),g=l+=(v+=O*(5*j))>>>13,g+=_*j,g+=S*L,g+=A*k,g+=x*U,l=(g+=R*$)>>>13,g&=8191,g+=I*T,g+=D*(5*M),g+=F*(5*z),g+=C*(5*B),y=l+=(g+=O*(5*N))>>>13,y+=_*N,y+=S*j,y+=A*L,y+=x*k,l=(y+=R*U)>>>13,y&=8191,y+=I*$,y+=D*T,y+=F*(5*M),y+=C*(5*z),E=l+=(y+=O*(5*B))>>>13,E+=_*B,E+=S*N,E+=A*j,E+=x*L,l=(E+=R*k)>>>13,E&=8191,E+=I*U,E+=D*$,E+=F*T,E+=C*(5*M),P=l+=(E+=O*(5*z))>>>13,P+=_*z,P+=S*B,P+=A*N,P+=x*j,l=(P+=R*L)>>>13,P&=8191,P+=I*k,P+=D*U,P+=F*$,P+=C*T,w=l+=(P+=O*(5*M))>>>13,w+=_*M,w+=S*z,w+=A*B,w+=x*N,l=(w+=R*j)>>>13,w&=8191,w+=I*L,w+=D*k,w+=F*U,w+=C*$,_=f=8191&(l=(l=((l+=(w+=O*T)>>>13)<<2)+l|0)+(f&=8191)|0),S=d+=l>>>=13,A=p&=8191,x=m&=8191,R=v&=8191,I=g&=8191,D=y&=8191,F=E&=8191,C=P&=8191,O=w&=8191,r+=16,t-=16;this.h[0]=_,this.h[1]=S,this.h[2]=A,this.h[3]=x,this.h[4]=R,this.h[5]=I,this.h[6]=D,this.h[7]=F,this.h[8]=C,this.h[9]=O},A.prototype.finish=function(e,r){var t,a,i,n,o=new Uint16Array(10);if(this.leftover){for(n=this.leftover,this.buffer[n++]=1;n<16;n++)this.buffer[n]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(t=this.h[1]>>>13,this.h[1]&=8191,n=2;n<10;n++)this.h[n]+=t,t=this.h[n]>>>13,this.h[n]&=8191;for(this.h[0]+=5*t,t=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=t,t=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=t,o[0]=this.h[0]+5,t=o[0]>>>13,o[0]&=8191,n=1;n<10;n++)o[n]=this.h[n]+t,t=o[n]>>>13,o[n]&=8191;for(o[9]-=8192,a=(1^t)-1,n=0;n<10;n++)o[n]&=a;for(a=~a,n=0;n<10;n++)this.h[n]=this.h[n]&a|o[n];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,n=1;n<8;n++)i=(this.h[n]+this.pad[n]|0)+(i>>>16)|0,this.h[n]=65535&i;e[r+0]=this.h[0]>>>0&255,e[r+1]=this.h[0]>>>8&255,e[r+2]=this.h[1]>>>0&255,e[r+3]=this.h[1]>>>8&255,e[r+4]=this.h[2]>>>0&255,e[r+5]=this.h[2]>>>8&255,e[r+6]=this.h[3]>>>0&255,e[r+7]=this.h[3]>>>8&255,e[r+8]=this.h[4]>>>0&255,e[r+9]=this.h[4]>>>8&255,e[r+10]=this.h[5]>>>0&255,e[r+11]=this.h[5]>>>8&255,e[r+12]=this.h[6]>>>0&255,e[r+13]=this.h[6]>>>8&255,e[r+14]=this.h[7]>>>0&255,e[r+15]=this.h[7]>>>8&255},A.prototype.update=function(e,r,t){var a,i;if(this.leftover){for((i=16-this.leftover)>t&&(i=t),a=0;a<i;a++)this.buffer[this.leftover+a]=e[r+a];if(t-=i,r+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(t>=16&&(i=t-t%16,this.blocks(e,r,i),r+=i,t-=i),t){for(a=0;a<t;a++)this.buffer[this.leftover+a]=e[r+a];this.leftover+=t}};var Y=I,K=D;var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,r,t,a){for(var i,n,o,s,h,u,c,l,f,d,p,m,v,g,y,E,P,w,b,_,S,A,x,R,I,D,F=new Int32Array(16),C=new Int32Array(16),O=e[0],T=e[1],$=e[2],U=e[3],k=e[4],L=e[5],j=e[6],N=e[7],B=r[0],z=r[1],M=r[2],V=r[3],q=r[4],H=r[5],Y=r[6],K=r[7],Z=0;a>=128;){for(b=0;b<16;b++)_=8*b+Z,F[b]=t[_+0]<<24|t[_+1]<<16|t[_+2]<<8|t[_+3],C[b]=t[_+4]<<24|t[_+5]<<16|t[_+6]<<8|t[_+7];for(b=0;b<80;b++)if(i=O,n=T,o=$,s=U,h=k,u=L,c=j,l=N,f=B,d=z,p=M,m=V,v=q,g=H,y=Y,E=K,x=65535&(A=K),R=A>>>16,I=65535&(S=N),D=S>>>16,x+=65535&(A=(q>>>14|k<<18)^(q>>>18|k<<14)^(k>>>9|q<<23)),R+=A>>>16,I+=65535&(S=(k>>>14|q<<18)^(k>>>18|q<<14)^(q>>>9|k<<23)),D+=S>>>16,x+=65535&(A=q&H^~q&Y),R+=A>>>16,I+=65535&(S=k&L^~k&j),D+=S>>>16,S=Q[2*b],x+=65535&(A=Q[2*b+1]),R+=A>>>16,I+=65535&S,D+=S>>>16,S=F[b%16],R+=(A=C[b%16])>>>16,I+=65535&S,D+=S>>>16,I+=(R+=(x+=65535&A)>>>16)>>>16,x=65535&(A=w=65535&x|R<<16),R=A>>>16,I=65535&(S=P=65535&I|(D+=I>>>16)<<16),D=S>>>16,x+=65535&(A=(B>>>28|O<<4)^(O>>>2|B<<30)^(O>>>7|B<<25)),R+=A>>>16,I+=65535&(S=(O>>>28|B<<4)^(B>>>2|O<<30)^(B>>>7|O<<25)),D+=S>>>16,R+=(A=B&z^B&M^z&M)>>>16,I+=65535&(S=O&T^O&$^T&$),D+=S>>>16,l=65535&(I+=(R+=(x+=65535&A)>>>16)>>>16)|(D+=I>>>16)<<16,E=65535&x|R<<16,x=65535&(A=m),R=A>>>16,I=65535&(S=s),D=S>>>16,R+=(A=w)>>>16,I+=65535&(S=P),D+=S>>>16,T=i,$=n,U=o,k=s=65535&(I+=(R+=(x+=65535&A)>>>16)>>>16)|(D+=I>>>16)<<16,L=h,j=u,N=c,O=l,z=f,M=d,V=p,q=m=65535&x|R<<16,H=v,Y=g,K=y,B=E,b%16==15)for(_=0;_<16;_++)S=F[_],x=65535&(A=C[_]),R=A>>>16,I=65535&S,D=S>>>16,S=F[(_+9)%16],x+=65535&(A=C[(_+9)%16]),R+=A>>>16,I+=65535&S,D+=S>>>16,P=F[(_+1)%16],x+=65535&(A=((w=C[(_+1)%16])>>>1|P<<31)^(w>>>8|P<<24)^(w>>>7|P<<25)),R+=A>>>16,I+=65535&(S=(P>>>1|w<<31)^(P>>>8|w<<24)^P>>>7),D+=S>>>16,P=F[(_+14)%16],R+=(A=((w=C[(_+14)%16])>>>19|P<<13)^(P>>>29|w<<3)^(w>>>6|P<<26))>>>16,I+=65535&(S=(P>>>19|w<<13)^(w>>>29|P<<3)^P>>>6),D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,F[_]=65535&I|D<<16,C[_]=65535&x|R<<16;x=65535&(A=B),R=A>>>16,I=65535&(S=O),D=S>>>16,S=e[0],R+=(A=r[0])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[0]=O=65535&I|D<<16,r[0]=B=65535&x|R<<16,x=65535&(A=z),R=A>>>16,I=65535&(S=T),D=S>>>16,S=e[1],R+=(A=r[1])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[1]=T=65535&I|D<<16,r[1]=z=65535&x|R<<16,x=65535&(A=M),R=A>>>16,I=65535&(S=$),D=S>>>16,S=e[2],R+=(A=r[2])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[2]=$=65535&I|D<<16,r[2]=M=65535&x|R<<16,x=65535&(A=V),R=A>>>16,I=65535&(S=U),D=S>>>16,S=e[3],R+=(A=r[3])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[3]=U=65535&I|D<<16,r[3]=V=65535&x|R<<16,x=65535&(A=q),R=A>>>16,I=65535&(S=k),D=S>>>16,S=e[4],R+=(A=r[4])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[4]=k=65535&I|D<<16,r[4]=q=65535&x|R<<16,x=65535&(A=H),R=A>>>16,I=65535&(S=L),D=S>>>16,S=e[5],R+=(A=r[5])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[5]=L=65535&I|D<<16,r[5]=H=65535&x|R<<16,x=65535&(A=Y),R=A>>>16,I=65535&(S=j),D=S>>>16,S=e[6],R+=(A=r[6])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[6]=j=65535&I|D<<16,r[6]=Y=65535&x|R<<16,x=65535&(A=K),R=A>>>16,I=65535&(S=N),D=S>>>16,S=e[7],R+=(A=r[7])>>>16,I+=65535&S,D+=S>>>16,D+=(I+=(R+=(x+=65535&A)>>>16)>>>16)>>>16,e[7]=N=65535&I|D<<16,r[7]=K=65535&x|R<<16,Z+=128,a-=128}return a}function X(e,r,t){var a,i=new Int32Array(8),n=new Int32Array(8),o=new Uint8Array(256),s=t;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,n[0]=4089235720,n[1]=2227873595,n[2]=4271175723,n[3]=1595750129,n[4]=2917565137,n[5]=725511199,n[6]=4215389547,n[7]=327033209,Z(i,n,r,t),t%=128,a=0;a<t;a++)o[a]=r[s-t+a];for(o[t]=128,o[(t=256-128*(t<112?1:0))-9]=0,p(o,t-8,s/536870912|0,s<<3),Z(i,n,o,t),a=0;a<8;a++)p(e,8*a,i[a],n[a]);return 0}function J(e,t){var a=r(),i=r(),n=r(),o=r(),s=r(),h=r(),u=r(),l=r(),f=r();j(a,e[1],e[0]),j(f,t[1],t[0]),N(a,a,f),L(i,e[0],e[1]),L(f,t[0],t[1]),N(i,i,f),N(n,e[3],t[3]),N(n,n,c),N(o,e[2],t[2]),L(o,o,o),j(s,i,a),j(h,o,n),L(u,o,n),L(l,i,a),N(e[0],s,h),N(e[1],l,u),N(e[2],u,h),N(e[3],s,l)}function G(e,r,t){var a;for(a=0;a<4;a++)O(e[a],r[a],t)}function W(e,t){var a=r(),i=r(),n=r();z(n,t[2]),N(a,t[0],n),N(i,t[1],n),T(e,i),e[31]^=U(a)<<7}function ee(e,r,t){var a,i;for(F(e[0],o),F(e[1],s),F(e[2],s),F(e[3],o),i=255;i>=0;--i)G(e,r,a=t[i/8|0]>>(7&i)&1),J(r,e),J(e,e),G(e,r,a)}function re(e,t){var a=[r(),r(),r(),r()];F(a[0],l),F(a[1],f),F(a[2],s),N(a[3],l,f),ee(e,a,t)}function te(e,t,i){var n,o=new Uint8Array(64),s=[r(),r(),r(),r()];for(i||a(t,32),X(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,re(s,o),W(e,s),n=0;n<32;n++)t[n+32]=e[n];return 0}var ae=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,r){var t,a,i,n;for(a=63;a>=32;--a){for(t=0,i=a-32,n=a-12;i<n;++i)r[i]+=t-16*r[a]*ae[i-(a-32)],t=r[i]+128>>8,r[i]-=256*t;r[i]+=t,r[a]=0}for(t=0,i=0;i<32;i++)r[i]+=t-(r[31]>>4)*ae[i],t=r[i]>>8,r[i]&=255;for(i=0;i<32;i++)r[i]-=t*ae[i];for(a=0;a<32;a++)r[a+1]+=r[a]>>8,e[a]=255&r[a]}function ne(e){var r,t=new Float64Array(64);for(r=0;r<64;r++)t[r]=e[r];for(r=0;r<64;r++)e[r]=0;ie(e,t)}function oe(e,t,a,i){var n,o,s=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),l=[r(),r(),r(),r()];X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=a+64;for(n=0;n<a;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=s[32+n];for(X(u,e.subarray(32),a+32),ne(u),re(l,u),W(e,l),n=32;n<64;n++)e[n]=i[n];for(X(h,e,a+64),ne(h),n=0;n<64;n++)c[n]=0;for(n=0;n<32;n++)c[n]=u[n];for(n=0;n<32;n++)for(o=0;o<32;o++)c[n+o]+=h[n]*s[o];return ie(e.subarray(32),c),f}function se(e,t){var a=r(),i=r(),n=r(),h=r(),c=r(),l=r(),f=r();return F(e[2],s),k(e[1],t),B(n,e[1]),N(h,n,u),j(n,n,e[2]),L(h,e[2],h),B(c,h),B(l,c),N(f,l,c),N(a,f,n),N(a,a,h),function(e,t){var a,i=r();for(a=0;a<16;a++)i[a]=t[a];for(a=250;a>=0;a--)B(i,i),1!==a&&N(i,i,t);for(a=0;a<16;a++)e[a]=i[a]}(a,a),N(a,a,n),N(a,a,h),N(a,a,h),N(e[0],a,h),B(i,e[0]),N(i,i,h),$(i,n)&&N(e[0],e[0],d),B(i,e[0]),N(i,i,h),$(i,n)?-1:(U(e[0])===t[31]>>7&&j(e[0],o,e[0]),N(e[3],e[0],e[1]),0)}function he(e,t,a,i){var n,o=new Uint8Array(32),s=new Uint8Array(64),h=[r(),r(),r(),r()],u=[r(),r(),r(),r()];if(-1,a<64)return-1;if(se(u,i))return-1;for(n=0;n<a;n++)e[n]=t[n];for(n=0;n<32;n++)e[n+32]=i[n];if(X(s,e,a),ne(s),ee(h,u,s),re(u,t.subarray(32)),J(h,u),W(o,h),a-=64,g(t,0,o,0)){for(n=0;n<a;n++)e[n]=0;return-1}for(n=0;n<a;n++)e[n]=t[n+64];return a}var ue=32,ce=24,le=32,fe=32,de=ce;function pe(e,r){if(e.length!==ue)throw new Error("bad key size");if(r.length!==ce)throw new Error("bad nonce size")}function me(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ve(e){for(var r=0;r<e.length;r++)e[r]=0}e.lowlevel={crypto_core_hsalsa20:E,crypto_stream_xor:S,crypto_stream:_,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:b,crypto_onetimeauth:x,crypto_onetimeauth_verify:R,crypto_verify_16:v,crypto_verify_32:g,crypto_secretbox:I,crypto_secretbox_open:D,crypto_scalarmult:M,crypto_scalarmult_base:V,crypto_box_beforenm:H,crypto_box_afternm:Y,crypto_box:function(e,r,t,a,i,n){var o=new Uint8Array(32);return H(o,i,n),Y(e,r,t,a,o)},crypto_box_open:function(e,r,t,a,i,n){var o=new Uint8Array(32);return H(o,i,n),K(e,r,t,a,o)},crypto_box_keypair:q,crypto_hash:X,crypto_sign:oe,crypto_sign_keypair:te,crypto_sign_open:he,crypto_secretbox_KEYBYTES:ue,crypto_secretbox_NONCEBYTES:ce,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:le,crypto_box_SECRETKEYBYTES:fe,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:de,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.randomBytes=function(e){var r=new Uint8Array(e);return a(r,e),r},e.secretbox=function(e,r,t){me(e,r,t),pe(t,r);for(var a=new Uint8Array(32+e.length),i=new Uint8Array(a.length),n=0;n<e.length;n++)a[n+32]=e[n];return I(i,a,a.length,r,t),i.subarray(16)},e.secretbox.open=function(e,r,t){me(e,r,t),pe(t,r);for(var a=new Uint8Array(16+e.length),i=new Uint8Array(a.length),n=0;n<e.length;n++)a[n+16]=e[n];return a.length<32?null:0!==D(i,a,a.length,r,t)?null:i.subarray(32)},e.secretbox.keyLength=ue,e.secretbox.nonceLength=ce,e.secretbox.overheadLength=16,e.scalarMult=function(e,r){if(me(e,r),32!==e.length)throw new Error("bad n size");if(32!==r.length)throw new Error("bad p size");var t=new Uint8Array(32);return M(t,e,r),t},e.scalarMult.base=function(e){if(me(e),32!==e.length)throw new Error("bad n size");var r=new Uint8Array(32);return V(r,e),r},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(r,t,a,i){var n=e.box.before(a,i);return e.secretbox(r,t,n)},e.box.before=function(e,r){me(e,r),function(e,r){if(e.length!==le)throw new Error("bad public key size");if(r.length!==fe)throw new Error("bad secret key size")}(e,r);var t=new Uint8Array(32);return H(t,e,r),t},e.box.after=e.secretbox,e.box.open=function(r,t,a,i){var n=e.box.before(a,i);return e.secretbox.open(r,t,n)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(le),r=new Uint8Array(fe);return q(e,r),{publicKey:e,secretKey:r}},e.box.keyPair.fromSecretKey=function(e){if(me(e),e.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(le);return V(r,e),{publicKey:r,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=le,e.box.secretKeyLength=fe,e.box.sharedKeyLength=32,e.box.nonceLength=de,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,r){if(me(e,r),64!==r.length)throw new Error("bad secret key size");var t=new Uint8Array(64+e.length);return oe(t,e,e.length,r),t},e.sign.open=function(e,r){if(me(e,r),32!==r.length)throw new Error("bad public key size");var t=new Uint8Array(e.length),a=he(t,e,e.length,r);if(a<0)return null;for(var i=new Uint8Array(a),n=0;n<i.length;n++)i[n]=t[n];return i},e.sign.detached=function(r,t){for(var a=e.sign(r,t),i=new Uint8Array(64),n=0;n<i.length;n++)i[n]=a[n];return i},e.sign.detached.verify=function(e,r,t){if(me(e,r,t),64!==r.length)throw new Error("bad signature size");if(32!==t.length)throw new Error("bad public key size");var a,i=new Uint8Array(64+e.length),n=new Uint8Array(64+e.length);for(a=0;a<64;a++)i[a]=r[a];for(a=0;a<e.length;a++)i[a+64]=e[a];return he(n,i,i.length,t)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),r=new Uint8Array(64);return te(e,r),{publicKey:e,secretKey:r}},e.sign.keyPair.fromSecretKey=function(e){if(me(e),64!==e.length)throw new Error("bad secret key size");for(var r=new Uint8Array(32),t=0;t<r.length;t++)r[t]=e[32+t];return{publicKey:r,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(me(e),32!==e.length)throw new Error("bad seed size");for(var r=new Uint8Array(32),t=new Uint8Array(64),a=0;a<32;a++)t[a]=e[a];return te(r,t,!0),{publicKey:r,secretKey:t}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){me(e);var r=new Uint8Array(64);return X(r,e,e.length),r},e.hash.hashLength=64,e.verify=function(e,r){return me(e,r),0!==e.length&&0!==r.length&&(e.length===r.length&&0===m(e,0,r,0,e.length))},e.setPRNG=function(e){a=e},function(){var r="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(r&&r.getRandomValues){e.setPRNG(function(e,t){var a,i=new Uint8Array(t);for(a=0;a<t;a+=65536)r.getRandomValues(i.subarray(a,a+Math.min(t-a,65536)));for(a=0;a<t;a++)e[a]=i[a];ve(i)})}else(r=t(48))&&r.randomBytes&&e.setPRNG(function(e,t){var a,i=r.randomBytes(t);for(a=0;a<t;a++)e[a]=i[a];ve(i)})}()}(void 0!==e&&e.exports?e.exports:self.nacl=self.nacl||{})},function(e,r){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,r,t){"use strict";function a(e,r,t){var a=t?" !== ":" === ",i=t?" || ":" && ",n=t?"!":"",o=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return n+"Array.isArray("+r+")";case"object":return"("+n+r+i+"typeof "+r+a+'"object"'+i+o+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+i+o+"("+r+" % 1)"+i+r+a+r+")";default:return"typeof "+r+a+'"'+e+'"'}}e.exports={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:a,checkDataTypes:function(e,r){switch(e.length){case 1:return a(e[0],r,!0);default:var t="",i=n(e);for(var o in i.array&&i.object&&(t=i.null?"(":"(!"+r+" || ",t+="typeof "+r+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)t+=(t?" && ":"")+a(o,r,!0);return t}},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var n=r[a];i[n]?t[t.length]=n:"array"===e&&"array"===n&&(t[t.length]=n)}if(t.length)return t}else{if(i[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:n,getProperty:h,escapeQuotes:u,equal:t(19),ucs2length:t(54),varOccurences:function(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(l,"").replace(f,"if (!($1))")},finalCleanUpCode:function(e,r){var t=e.match(d);t&&2==t.length&&(e=r?e.replace(m,"").replace(y,E):e.replace(p,"").replace(v,g));return(t=e.match(P))&&3===t.length?e.replace(w,""):e},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0},toQuotedString:b,getPathExpr:function(e,r,t,a){return A(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){var a=b(t?"/"+x(r):h(r));return A(e,a)},getData:function(e,r,t){var a,i,n,o;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,n="rootData"}else{if(!(o=e.match(S)))throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],"#"==(i=o[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(n="data"+(r-a||""),!i)return n}for(var s=n,u=i.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(n+=h(R(l)),s+=" && "+n)}return s},unescapeFragment:function(e){return R(decodeURIComponent(e))},unescapeJsonPointer:R,escapeFragment:function(e){return encodeURIComponent(x(e))},escapeJsonPointer:x};var i=n(["string","number","integer","boolean","null"]);function n(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var o=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function h(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,l=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,f=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var d=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v="return errors === 0;",g="validate.errors = null; return true;",y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,E="return data;",P=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,w=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+u(e)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,S=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function A(e,r){return'""'==e?r:(e+" + "+r).replace(/' \+ '/g,"")}function x(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function R(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},,function(e,r,t){(function(r){const a=t(39),{RCD_TYPE_1:i,secretToPublicKey:n,sha256d:o}=t(10),{FACTOID_PUBLIC_PREFIX:s,FACTOID_PRIVATE_PREFIX:h,ENTRYCREDIT_PUBLIC_PREFIX:u,ENTRYCREDIT_PRIVATE_PREFIX:c,VALID_PREFIXES:l,PUBLIC_ADDRESS_VALID_PREFIXES:f,PRIVATE_ADDRESS_VALID_PREFIXES:d,EC_ADDRESS_VALID_PREFIXES:p,FCT_ADDRESS_VALID_PREFIXES:m}=t(9);function v(e){try{if(!l.has(e.slice(0,2)))return!1;const t=r.from(a.decode(e));return 38===t.length&&!!o(t.slice(0,34)).slice(0,4).equals(t.slice(34,38))}catch(e){return!1}}function g(e){return v(e)&&"FA"===e.substring(0,2)}function y(e,t,n){const s=r.from(e,"hex");if(32!==s.length)throw new Error(`Key ${s} is not 32 bytes long.`);const h=r.concat([t,n?function(e){return o(r.concat([i,e]))}(s):s]),u=o(h).slice(0,4);return a.encode(r.concat([h,u]))}function E(e){return y(e,s,!0)}function P(e){return y(e,u)}e.exports={isValidAddress:v,addressToKey:function(e){if(!v(e))throw new Error(`Invalid address ${e}.`);if(e.startsWith("FA"))throw new Error("A public Factoid address does not hold a public key but a RCD hash. Use addressToRcdHash function instead.");return r.from(a.decode(e).slice(2,34))},addressToRcdHash:function(e){if(!g(e))throw new Error(`Address ${e} is not a valid public Factoid address`);return r.from(a.decode(e).slice(2,34))},isValidPublicAddress:function(e){return v(e)&&f.has(e.substring(0,2))},isValidPrivateAddress:function(e){return v(e)&&d.has(e.substring(0,2))},isValidEcAddress:function(e){return v(e)&&p.has(e.substring(0,2))},isValidEcPublicAddress:function(e){return v(e)&&"EC"===e.substring(0,2)},isValidEcPrivateAddress:function(e){return v(e)&&"Es"===e.substring(0,2)},isValidFctAddress:function(e){return v(e)&&m.has(e.substring(0,2))},isValidFctPublicAddress:g,isValidFctPrivateAddress:function(e){return v(e)&&"Fs"===e.substring(0,2)},getPublicAddress:function(e){if(!v(e))throw new Error(`Invalid address ${e}.`);if("s"!==e[1])return e;const r=a.decode(e).slice(2,34),t=n(r);return"F"===e[0]?E(t):P(t)},keyToPublicFctAddress:E,rcdHashToPublicFctAddress:function(e){return y(e,s)},keyToPrivateFctAddress:function(e){return y(e,h)},keyToPublicEcAddress:P,keyToPrivateEcAddress:function(e){return y(e,c)}}}).call(this,t(0).Buffer)},function(e,r,t){(function(r){const t="000000000000000000000000000000000000000000000000000000000000000a",a=new Map([[1,"DIRECTORY_BLOCK_SIGNATURE"],[2,"REVEAL_MATRYOSHKA_HASH"],[3,"ADD_REPLACE_MATRYOSHKA_HASH"],[4,"INCREASE_SERVER_COUNT"],[5,"ADD_FEDERATED_SERVER"],[6,"ADD_AUDIT_SERVER"],[7,"REMOVE_FEDERATED_SERVER"],[8,"ADD_FEDERATED_SERVER_SIGNING_KEY"],[9,"ADD_FEDERATED_SERVER_BITCOIN_ANCHOR_KEY"],[10,"SERVER_FAULT_HANDOFF"],[11,"COINBASE_DESCRIPTOR"],[12,"COINBASE_DESCRIPTOR_CANCEL"],[13,"ADD_AUTHORITY_FACTOID_ADDRESS"],[14,"ADD_AUTHORITY_EFFICIENCY"]]);e.exports={MAX_TRANSACTION_SIZE:10240,MAX_ENTRY_PAYLOAD_SIZE:10240,MAX_ENTRY_SIZE:10275,CHAIN_CREATION_COST:10,NULL_HASH:"0000000000000000000000000000000000000000000000000000000000000000",ADMIN_BLOCKS_CHAIN_ID:t,ENTRY_CREDIT_BLOCKS_CHAIN_ID:"000000000000000000000000000000000000000000000000000000000000000c",FACTOID_BLOCKS_CHAIN_ID:"000000000000000000000000000000000000000000000000000000000000000f",RESERVED_CHAIN_IDS:new Set([t,"000000000000000000000000000000000000000000000000000000000000000c","000000000000000000000000000000000000000000000000000000000000000f"]),VALID_PREFIXES:new Set(["Fs","FA","EC","Es"]),PUBLIC_ADDRESS_VALID_PREFIXES:new Set(["FA","EC"]),PRIVATE_ADDRESS_VALID_PREFIXES:new Set(["Fs","Es"]),EC_ADDRESS_VALID_PREFIXES:new Set(["EC","Es"]),FCT_ADDRESS_VALID_PREFIXES:new Set(["FA","Fs"]),FACTOID_PUBLIC_PREFIX:r.from("5fb1","hex"),FACTOID_PRIVATE_PREFIX:r.from("6478","hex"),ENTRYCREDIT_PUBLIC_PREFIX:r.from("592a","hex"),ENTRYCREDIT_PRIVATE_PREFIX:r.from("5db6","hex"),ADMIN_ID_TO_CODE:a}}).call(this,t(0).Buffer)},function(e,r,t){(function(r){const a=t(4).sign,i=t(49),n=t(16),o=t(17),s=r.from("01","hex"),h=i.fromString("8000000000000000",!0,16);e.exports={RCD_TYPE_1:s,sha256:function(e){return r.from(n().update(e).digest())},sha512:function(e){return r.from(o().update(e).digest())},sha256d:function(e){return r.from(n().update(n().update(e).digest()).digest())},toHex:function(e){return r.isBuffer(e)?e.toString("hex"):e},encodeVarInt:function(e){const t=[];0!==e&&"0"!==e||t.push(0);let a=i.fromValue(e,!0),n=!1;a.and(h).isZero()||(t.push(129),n=!0);for(let e=0;e<9;++e){let r=a.shiftRightUnsigned(56).toNumber();(r||n)&&(n=!0,8!==e?r|=128:r&=127,t.push(r)),a=a.shiftLeft(7)}return r.from(t)},isIterable:function(e){return null!=e&&"function"==typeof e[Symbol.iterator]},flatMap:(e,r)=>[].concat(...e.map(r)),secretToPublicKey:function(e){const t=a.keyPair.fromSeed(e);return r.from(t.publicKey)}}}).call(this,t(0).Buffer)},function(e,r){function t(e,r){if(!e)throw new Error(r||"Assertion failed")}e.exports=t,t.equal=function(e,r,t){if(e!=r)throw new Error(t||"Assertion failed: "+e+" != "+r)}},function(e,r,t){"use strict";var a=t(2),i=t(11);function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=n,n.prototype.update=function(e,r){if(e=a.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var t=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=a.join32(e,0,e.length-t,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},n.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},n.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,t=r-(e+this.padLength)%r,a=new Array(t+this.padLength);a[0]=128;for(var i=1;i<t;i++)a[i]=0;if(e<<=3,"big"===this.endian){for(var n=8;n<this.padLength;n++)a[i++]=0;a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=e>>>24&255,a[i++]=e>>>16&255,a[i++]=e>>>8&255,a[i++]=255&e}else for(a[i++]=255&e,a[i++]=e>>>8&255,a[i++]=e>>>16&255,a[i++]=e>>>24&255,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,n=8;n<this.padLength;n++)a[i++]=0;return a}},function(e,r,t){(function(r){const a=t(4).sign,{addressToKey:i,isValidEcPrivateAddress:n}=t(8),{MAX_ENTRY_PAYLOAD_SIZE:o}=t(9),{sha256:s,sha512:h}=t(10);class u{constructor(e){if(!(e instanceof c))throw new Error("Use `Entry.builder()` syntax to create a new Entry");this.chainId=e._chainId,this.content=e._content,this.timestamp=e._timestamp,this.extIds=Object.freeze(e._extIds),this.blockContext=Object.freeze(e._blockContext),Object.freeze(this)}get contentHex(){return this.content.toString("hex")}get extIdsHex(){return this.extIds.map(e=>e.toString("hex"))}get chainIdHex(){return this.chainId.toString("hex")}size(){return 35+this.payloadSize()}payloadSize(){return this.rawDataSize()+2*this.extIds.length}rawDataSize(){return this.content.length+this.extIds.reduce((e,r)=>e+r.length,0)}remainingFreeBytes(){const e=this.payloadSize();if(0===e)return 1024;const r=e%1024;return r?1024-r:0}remainingMaxBytes(){const e=o-this.payloadSize();if(e<0)throw new Error("Entry cannot be larger than 10Kb");return e}hash(){const e=this.marshalBinary();return s(r.concat([h(e),e]))}hashHex(){return this.hash().toString("hex")}marshalBinary(){if(0===this.chainId.length)throw new Error("ChainId is missing to marshal the entry");const e=function(e){const t=[];for(let a of e){const e=r.alloc(2);e.writeInt16BE(a.length),t.push(e),t.push(a)}return r.concat(t)}(this.extIds),t=function(e,t){const a=r.alloc(35);return a.writeInt8(0),e.copy(a,1),a.writeInt16BE(t,33),a}(this.chainId,e.length);return r.concat([t,e,this.content])}marshalBinaryHex(){return this.marshalBinary().toString("hex")}ecCost(){const e=this.payloadSize();if(e>o)throw new Error("Entry cannot be larger than 10Kb");return Math.ceil(e/1024)}static builder(e){return new c(e)}}class c{constructor(e){e instanceof Object?(this._chainId=e.chainId?r.from(e.chainId,"hex"):r.from(""),this._extIds=Array.isArray(e.extIds)?e.extIds.map(e=>r.from(e,"hex")):[],this._content=e.content?r.from(e.content,"hex"):r.from(""),this._timestamp=e.timestamp):(this._extIds=[],this._content=r.from(""),this._chainId=r.from(""))}content(e,t){return e&&(this._content=r.from(e,t||"hex")),this}chainId(e,t){return e&&(this._chainId=r.from(e,t||"hex")),this}extIds(e,t){return Array.isArray(e)&&(this._extIds=e.map(e=>r.from(e,t||"hex"))),this}extId(e,t){return e&&this._extIds.push(r.from(e,t||"hex")),this}timestamp(e){return this._timestamp=e,this}blockContext(e){return this._blockContext=e,this}build(){return new u(this)}}function l(e,t){if(p(e),!n(t))throw new Error(`${t} is not a valid EC private address`);const o=f(e),s=i(t),h=a.keyPair.fromSeed(s),u=r.from(h.publicKey),c=r.from(a.detached(o,h.secretKey));return r.concat([o,u,c])}function f(e){const t=r.alloc(40);return t.writeInt8(0),t.writeIntBE(e.timestamp||Date.now(),1,6),e.hash().copy(t,7),t.writeInt8(e.ecCost(),39),t}function d(e){return p(e),e.marshalBinary()}function p(e){if(!(e instanceof u))throw new Error("Argument must be an instance of Entry")}e.exports={Entry:u,computeEntryTxId:function(e){return p(e),s(f(e))},validateEntryInstance:p,composeEntryCommit:l,composeEntryReveal:d,composeEntry:function(e,r){return p(e),{commit:l(e,r),reveal:d(e)}}}}).call(this,t(0).Buffer)},function(e,r){"function"==typeof Object.create?e.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}},,function(e,r,t){"use strict";var a=t(2),i=t(12),n=t(26),o=t(11),s=a.sum32,h=a.sum32_4,u=a.sum32_5,c=n.ch32,l=n.maj32,f=n.s0_256,d=n.s1_256,p=n.g0_256,m=n.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}a.inherits(y,v),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,r){for(var t=this.W,a=0;a<16;a++)t[a]=e[r+a];for(;a<t.length;a++)t[a]=h(m(t[a-2]),t[a-7],p(t[a-15]),t[a-16]);var i=this.h[0],n=this.h[1],v=this.h[2],g=this.h[3],y=this.h[4],E=this.h[5],P=this.h[6],w=this.h[7];for(o(this.k.length===t.length),a=0;a<t.length;a++){var b=u(w,d(y),c(y,E,P),this.k[a],t[a]),_=s(f(i),l(i,n,v));w=P,P=E,E=y,y=s(g,b),g=v,v=n,n=i,i=s(b,_)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],n),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],E),this.h[6]=s(this.h[6],P),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(e,r,t){"use strict";var a=t(2),i=t(12),n=t(11),o=a.rotr64_hi,s=a.rotr64_lo,h=a.shr64_hi,u=a.shr64_lo,c=a.sum64,l=a.sum64_hi,f=a.sum64_lo,d=a.sum64_4_hi,p=a.sum64_4_lo,m=a.sum64_5_hi,v=a.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function P(e,r,t,a,i){var n=e&t^~e&i;return n<0&&(n+=4294967296),n}function w(e,r,t,a,i,n){var o=r&a^~r&n;return o<0&&(o+=4294967296),o}function b(e,r,t,a,i){var n=e&t^e&i^t&i;return n<0&&(n+=4294967296),n}function _(e,r,t,a,i,n){var o=r&a^r&n^a&n;return o<0&&(o+=4294967296),o}function S(e,r){var t=o(e,r,28)^o(r,e,2)^o(r,e,7);return t<0&&(t+=4294967296),t}function A(e,r){var t=s(e,r,28)^s(r,e,2)^s(r,e,7);return t<0&&(t+=4294967296),t}function x(e,r){var t=o(e,r,14)^o(e,r,18)^o(r,e,9);return t<0&&(t+=4294967296),t}function R(e,r){var t=s(e,r,14)^s(e,r,18)^s(r,e,9);return t<0&&(t+=4294967296),t}function I(e,r){var t=o(e,r,1)^o(e,r,8)^h(e,r,7);return t<0&&(t+=4294967296),t}function D(e,r){var t=s(e,r,1)^s(e,r,8)^u(e,r,7);return t<0&&(t+=4294967296),t}function F(e,r){var t=o(e,r,19)^o(r,e,29)^h(e,r,6);return t<0&&(t+=4294967296),t}function C(e,r){var t=s(e,r,19)^s(r,e,29)^u(e,r,6);return t<0&&(t+=4294967296),t}a.inherits(E,g),e.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(e,r){for(var t=this.W,a=0;a<32;a++)t[a]=e[r+a];for(;a<t.length;a+=2){var i=F(t[a-4],t[a-3]),n=C(t[a-4],t[a-3]),o=t[a-14],s=t[a-13],h=I(t[a-30],t[a-29]),u=D(t[a-30],t[a-29]),c=t[a-32],l=t[a-31];t[a]=d(i,n,o,s,h,u,c,l),t[a+1]=p(i,n,o,s,h,u,c,l)}},E.prototype._update=function(e,r){this._prepareBlock(e,r);var t=this.W,a=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],h=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],E=this.h[10],I=this.h[11],D=this.h[12],F=this.h[13],C=this.h[14],O=this.h[15];n(this.k.length===t.length);for(var T=0;T<t.length;T+=2){var $=C,U=O,k=x(g,y),L=R(g,y),j=P(g,y,E,I,D),N=w(g,y,E,I,D,F),B=this.k[T],z=this.k[T+1],M=t[T],V=t[T+1],q=m($,U,k,L,j,N,B,z,M,V),H=v($,U,k,L,j,N,B,z,M,V);$=S(a,i),U=A(a,i),k=b(a,i,o,s,h),L=_(a,i,o,s,h,u);var Y=l($,U,k,L),K=f($,U,k,L);C=D,O=F,D=E,F=I,E=g,I=y,g=l(d,p,q,H),y=f(p,p,q,H),d=h,p=u,h=o,u=s,o=a,s=i,a=l(q,H,Y,K),i=f(q,H,Y,K)}c(this.h,0,a,i),c(this.h,2,o,s),c(this.h,4,h,u),c(this.h,6,d,p),c(this.h,8,g,y),c(this.h,10,E,I),c(this.h,12,D,F),c(this.h,14,C,O)},E.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(e,r,t){"use strict";var a=t(53),i=t(19),n=t(6),o=t(28),s=t(55);function h(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return h.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof o)return d(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,n,s,c=u.call(this,r,t);return c&&(i=c.schema,r=c.root,s=c.baseId),i instanceof o?n=i.validate||e.call(this,i.schema,r,void 0,s):void 0!==i&&(n=d(i,this._opts.inlineRefs)?i:e.call(this,i,r,void 0,s)),n}function u(e,r){var t=a.parse(r),i=m(t),n=p(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==n){var s=g(i),h=this._refs[s];if("string"==typeof h)return function(e,r,t){var a=u.call(this,e,r);if(a){var i=a.schema,n=a.baseId;e=a.root;var o=this._getId(i);return o&&(n=y(n,o)),l.call(this,t,n,i,e)}}.call(this,e,h,t);if(h instanceof o)h.validate||this._compile(h),e=h;else{if(!((h=this._schemas[s])instanceof o))return;if(h.validate||this._compile(h),s==g(r))return{schema:h,root:e,baseId:n};e=h}if(!e.schema)return;n=p(this._getId(e.schema))}return l.call(this,t,n,e.schema,e)}e.exports=h,h.normalizeId=g,h.fullPath=p,h.url=y,h.ids=function(e){var r=g(this._getId(e)),t={"":r},o={"":p(r,!1)},h={},u=this;return s(e,{allKeys:!0},function(e,r,s,c,l,f,d){if(""!==r){var p=u._getId(e),m=t[c],v=o[c]+"/"+l;if(void 0!==d&&(v+="/"+("number"==typeof d?d:n.escapeFragment(d))),"string"==typeof p){p=m=g(m?a.resolve(m,p):p);var y=u._refs[p];if("string"==typeof y&&(y=u._refs[y]),y&&y.schema){if(!i(e,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=g(v))if("#"==p[0]){if(h[p]&&!i(e,h[p]))throw new Error('id "'+p+'" resolves to more than one schema');h[p]=e}else u._refs[p]=v}t[r]=m,o[r]=v}}),h},h.inlineRef=d,h.schema=u;var c=n.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function l(e,r,t,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(t=t[s=n.unescapeFragment(s)]))break;var h;if(!c[s]&&((h=this._getId(t))&&(r=y(r,h)),t.$ref)){var l=y(r,t.$ref),f=u.call(this,a,l);f&&(t=f.schema,a=f.root,r=f.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var f=n.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,r){return!1!==r&&(void 0===r||!0===r?function e(r){var t;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if("object"==typeof(t=r[a])&&!e(t))return!1}else for(var i in r){if("$ref"==i)return!1;if("object"==typeof(t=r[i])&&!e(t))return!1}return!0}(e):r?function e(r){var t,a=0;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if("object"==typeof(t=r[i])&&(a+=e(t)),a==1/0)return 1/0}else for(var n in r){if("$ref"==n)return 1/0;if(f[n])a++;else if("object"==typeof(t=r[n])&&(a+=e(t)+1),a==1/0)return 1/0}return a}(e)<=r:void 0)}function p(e,r){return!1!==r&&(e=g(e)),m(a.parse(e))}function m(e){return a.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function g(e){return e?e.replace(v,""):""}function y(e,r){return r=g(r),a.resolve(e,r)}},function(e,r,t){"use strict";var a=Array.isArray,i=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){var o,s,h,u=a(r),c=a(t);if(u&&c){if((s=r.length)!=t.length)return!1;for(o=s;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(u!=c)return!1;var l=r instanceof Date,f=t instanceof Date;if(l!=f)return!1;if(l&&f)return r.getTime()==t.getTime();var d=r instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return r.toString()==t.toString();var m=i(r);if((s=m.length)!==i(t).length)return!1;for(o=s;0!=o--;)if(!n.call(t,m[o]))return!1;for(o=s;0!=o--;)if(!e(r[h=m[o]],t[h]))return!1;return!0}return r!=r&&t!=t}},function(e,r,t){"use strict";var a=t(18);function i(e,r,t){this.message=t||i.message(e,r),this.missingRef=a.url(e,r),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function n(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:n(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:n(i)},i.message=function(e,r){return"can't resolve reference "+r+" from id "+e}},,function(e,r,t){(function(r){const a=t(4).sign,{addressToKey:i,isValidEcPrivateAddress:n}=t(8),{Entry:o}=t(13),{sha256:s,sha256d:h}=t(10),{CHAIN_CREATION_COST:u}=t(9);class c{constructor(e){if(e instanceof o){const r=m(e);this.firstEntry=o.builder(e).chainId(r).build(),this.id=r}else{if(!(e.firstEntry instanceof o))throw new Error("Argument on Chain constructor should be an instance of Entry");{const r=m(e.firstEntry);this.firstEntry=o.builder(e.firstEntry).chainId(r).build(),this.id=r}}Object.freeze(this)}get idHex(){return this.id.toString("hex")}ecCost(){return u+this.firstEntry.ecCost()}}function l(e,t){if(p(e),!n(t))throw new Error(`${t} is not a valid EC private address`);const o=f(e),s=i(t),h=a.keyPair.fromSeed(s),u=r.from(h.publicKey),c=r.from(a.detached(o,h.secretKey));return r.concat([o,u,c])}function f(e){const t=e.firstEntry,a=t.hash(),i=r.alloc(104);return i.writeInt8(0),i.writeIntBE(t.timestamp||Date.now(),1,6),h(e.id).copy(i,7),h(r.concat([a,e.id])).copy(i,39),a.copy(i,71),i.writeInt8(e.ecCost(),103),i}function d(e){return p(e),e.firstEntry.marshalBinary()}function p(e){if(!(e instanceof c))throw new Error("Argument must be an instance of Chain")}function m(e){if(0===e.extIds.length)throw new Error("First entry of a chain must contain at least 1 external id");const t=e.extIds.map(s),a=r.concat(t);return s(a)}e.exports={Chain:c,computeChainTxId:function(e){return p(e),s(f(e))},validateChainInstance:p,computeChainId:m,composeChainCommit:l,composeChainReveal:d,composeChain:function(e,r){return p(e),{commit:l(e,r),reveal:d(e)}}}}).call(this,t(0).Buffer)},function(e,r,t){(function(r){var a=t(4).sign;e.exports={getKeyPair:function(e){var t=r.from(e,"hex");switch(t.length){case 32:return a.keyPair.fromSeed(t);case 64:return a.keyPair.fromSecretKey(t);default:throw new Error("Bad key length")}}}}).call(this,t(0).Buffer)},,,function(e,r,t){"use strict";var a=t(2).rotr32;function i(e,r,t){return e&r^~e&t}function n(e,r,t){return e&r^e&t^r&t}function o(e,r,t){return e^r^t}r.ft_1=function(e,r,t,a){return 0===e?i(r,t,a):1===e||3===e?o(r,t,a):2===e?n(r,t,a):void 0},r.ch32=i,r.maj32=n,r.p32=o,r.s0_256=function(e){return a(e,2)^a(e,13)^a(e,22)},r.s1_256=function(e){return a(e,6)^a(e,11)^a(e,25)},r.g0_256=function(e){return a(e,7)^a(e,18)^e>>>3},r.g1_256=function(e){return a(e,17)^a(e,19)^e>>>10}},function(e,r,t){var a=new(t(51))({$data:!0,allErrors:!0});a.addSchema(t(85)).addSchema(t(86));var i=a.compile(t(87)),n=a.compile(t(88)),o=a.compile(t(89));e.exports={validateVoteDefinition:i,validateVote:n,validateParticipants:o}},function(e,r,t){"use strict";var a=t(6);e.exports=function(e){a.copy(e,this)}},function(e,r,t){"use strict";e.exports=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t="boolean"==typeof r.cycles&&r.cycles,a=r.cmp&&function(e){return function(r){return function(t,a){var i={key:t,value:r[t]},n={key:a,value:r[a]};return e(i,n)}}}(r.cmp),i=[];return function e(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var n,o;if(Array.isArray(r)){for(o="[",n=0;n<r.length;n++)n&&(o+=","),o+=e(r[n])||"null";return o+"]"}if(null===r)return"null";if(-1!==i.indexOf(r)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(r)-1,h=Object.keys(r).sort(a&&a(r));for(o="",n=0;n<h.length;n++){var u=h[n],c=e(r[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return i.splice(s,1),"{"+o+"}"}}(e)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a="",i=!0===e.schema.$async,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!n&&!e.schema.$ref){var s=e.level,h=e.dataLevel,u=e.schema["false schema"],c=e.schemaPath+e.util.getProperty("false schema"),l=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,d="data"+(h||""),p="valid"+s;if(!1===e.schema){e.isTop?f=!0:a+=" var "+p+" = false; ",(X=X||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;a=X.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=i?" return data; ":" validate.errors = null; return true; ":a+=" var "+p+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var v=e.isTop;s=e.level=0,h=e.dataLevel=0,d="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{s=e.level,d="data"+((h=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+s+" = errors;"}p="valid"+s,f=!e.opts.allErrors;var g,y="",E="",P=e.schema.type,w=Array.isArray(P);if(w&&1==P.length&&(P=P[0],w=!1),e.schema.$ref&&n){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),P){if(e.opts.coerceTypes)var b=e.util.coerceToTypes(e.opts.coerceTypes,P);var _=e.RULES.types[P];if(b||w||!0===_||_&&!J(_)){c=e.schemaPath+".type",l=e.errSchemaPath+"/type",c=e.schemaPath+".type",l=e.errSchemaPath+"/type";var S=w?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[S](P,d,!0)+") { ",b){var A="dataType"+s,x="coerced"+s;a+=" var "+A+" = typeof "+d+"; ","array"==e.opts.coerceTypes&&(a+=" if ("+A+" == 'object' && Array.isArray("+d+")) "+A+" = 'array'; "),a+=" var "+x+" = undefined; ";var R="",I=b;if(I)for(var D,F=-1,C=I.length-1;F<C;)D=I[F+=1],F&&(a+=" if ("+x+" === undefined) { ",R+="}"),"array"==e.opts.coerceTypes&&"array"!=D&&(a+=" if ("+A+" == 'array' && "+d+".length == 1) { "+x+" = "+d+" = "+d+"[0]; "+A+" = typeof "+d+";  } "),"string"==D?a+=" if ("+A+" == 'number' || "+A+" == 'boolean') "+x+" = '' + "+d+"; else if ("+d+" === null) "+x+" = ''; ":"number"==D||"integer"==D?(a+=" if ("+A+" == 'boolean' || "+d+" === null || ("+A+" == 'string' && "+d+" && "+d+" == +"+d+" ","integer"==D&&(a+=" && !("+d+" % 1)"),a+=")) "+x+" = +"+d+"; "):"boolean"==D?a+=" if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+x+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+x+" = true; ":"null"==D?a+=" if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+x+" = null; ":"array"==e.opts.coerceTypes&&"array"==D&&(a+=" if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+d+" == null) "+x+" = ["+d+"]; ");a+=" "+R+" if ("+x+" === undefined) {   ",(X=X||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";m=a;a=X.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  ";var O=h?"data"+(h-1||""):"parentData",T=h?e.dataPathArr[h]:"parentDataProperty";a+=" "+d+" = "+x+"; ",h||(a+="if ("+O+" !== undefined)"),a+=" "+O+"["+T+"] = "+x+"; } "}else{(X=X||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";m=a;a=X.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!n)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(a+=" } if (errors === ",a+=v?"0":"errs_"+s,a+=") { ",E+="}");else{var $=e.RULES;if($)for(var U=-1,k=$.length-1;U<k;)if(J(_=$[U+=1])){if(_.type&&(a+=" if ("+e.util.checkDataType(_.type,d)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==_.type&&e.schema.properties){u=e.schema.properties;var L=Object.keys(u);if(L)for(var j,N=-1,B=L.length-1;N<B;){if(void 0!==(M=u[j=L[N+=1]]).default)a+="  if ("+(q=d+e.util.getProperty(j))+" === undefined) "+q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}else if("array"==_.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){F=-1;for(var M,V=z.length-1;F<V;){var q;if(void 0!==(M=z[F+=1]).default)a+="  if ("+(q=d+"["+F+"]")+" === undefined) "+q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}}var H=_.rules;if(H)for(var Y,K=-1,Q=H.length-1;K<Q;)if(G(Y=H[K+=1])){var Z=Y.code(e,Y.keyword,_.type);Z&&(a+=" "+Z+" ",f&&(y+="}"))}if(f&&(a+=" "+y+" ",y=""),_.type&&(a+=" } ",P&&P===_.type&&!b)){a+=" else { ";var X;c=e.schemaPath+".type",l=e.errSchemaPath+"/type";(X=X||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";m=a;a=X.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}f&&(a+=" if (errors === ",a+=v?"0":"errs_"+s,a+=") { ",E+="}")}}function J(e){for(var r=e.rules,t=0;t<r.length;t++)if(G(r[t]))return!0}function G(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return f&&(a+=" "+E+" "),v?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+p+" = errors === errs_"+s+";",a=e.util.cleanUpCode(a),v&&(a=e.util.finalCleanUpCode(a,i)),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s;var d="maximum"==r,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=d?"<":">",y=d?">":"<",E=void 0;if(v){var P=e.util.getData(m.$data,o,e.dataPathArr),w="exclusive"+n,b="exclType"+n,_="exclIsNumber"+n,S="' + "+(R="op"+n)+" + '";i+=" var schemaExcl"+n+" = "+P+"; ",i+=" var "+w+"; var "+b+" = typeof "+(P="schemaExcl"+n)+"; if ("+b+" != 'boolean' && "+b+" != 'undefined' && "+b+" != 'number') { ";var A;E=p;(A=A||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var x=i;i=A.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+x+"]); ":i+=" validate.errors = ["+x+"]; return false; ":i+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+b+" == 'number' ? ( ("+w+" = "+a+" === undefined || "+P+" "+g+"= "+a+") ? "+l+" "+y+"= "+P+" : "+l+" "+y+" "+a+" ) : ( ("+w+" = "+P+" === true) ? "+l+" "+y+"= "+a+" : "+l+" "+y+" "+a+" ) || "+l+" !== "+l+") { var op"+n+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(E=p,u=e.errSchemaPath+"/"+p,a=P,f=v)}else{S=g;if((_="number"==typeof m)&&f){var R="'"+S+"'";i+=" if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" ( "+a+" === undefined || "+m+" "+g+"= "+a+" ? "+l+" "+y+"= "+m+" : "+l+" "+y+" "+a+" ) || "+l+" !== "+l+") { "}else{_&&void 0===s?(w=!0,E=p,u=e.errSchemaPath+"/"+p,a=m,y+="="):(_&&(a=Math[d?"min":"max"](m,s)),m===(!_||a)?(w=!0,E=p,u=e.errSchemaPath+"/"+p,y+="="):(w=!1,S+="="));R="'"+S+"'";i+=" if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+l+" "+y+" "+a+" || "+l+" !== "+l+") { "}}E=E||r,(A=A||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+R+", limit: "+a+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=f?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";x=i;return i=A.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+x+"]); ":i+=" validate.errors = ["+x+"]; return false; ":i+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s,i+="if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+l+".length "+("maxItems"==r?">":"<")+" "+a+") { ";var d=r,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==r?"more":"less",i+=" than ",i+=f?"' + "+a+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s;var d="maxLength"==r?">":"<";i+="if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?i+=" "+l+".length ":i+=" ucs2length("+l+") ",i+=" "+d+" "+a+") { ";var p=r,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==r?"longer":"shorter",i+=" than ",i+=f?"' + "+a+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s,i+="if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" Object.keys("+l+").length "+("maxProperties"==r?">":"<")+" "+a+") { ";var d=r,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==r?"more":"less",i+=" than ",i+=f?"' + "+a+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,r){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},,,function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,r,t){(function(e,r){(function(){var t,a,i,n;for(i=(void 0!==e&&null!==e?e.exports:void 0)||(window.Base58={}),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a={},n=0;n<t.length;)a[t.charAt(n)]=n,n++;i.encode=function(e){var r,a,i;if(0===e.length)return"";for(n=void 0,i=void 0,a=[0],n=0;n<e.length;){for(i=0;i<a.length;)a[i]<<=8,i++;for(a[0]+=e[n],r=0,i=0;i<a.length;)a[i]+=r,r=a[i]/58|0,a[i]%=58,++i;for(;r;)a.push(r%58),r=r/58|0;n++}for(n=0;0===e[n]&&n<e.length-1;)a.push(0),n++;return a.reverse().map(function(e){return t[e]}).join("")},i.decode=function(e){var t,i,o,s;if(0===e.length)return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:r)(0);for(n=void 0,s=void 0,t=[0],n=0;n<e.length;){if(!((i=e[n])in a))throw"Base58.decode received unacceptable input. Character '"+i+"' is not in the Base58 alphabet.";for(s=0;s<t.length;)t[s]*=58,s++;for(t[0]+=a[i],o=0,s=0;s<t.length;)t[s]+=o,o=t[s]>>8,t[s]&=255,++s;for(;o;)t.push(255&o),o>>=8;n++}for(n=0;"1"===e[n]&&n<e.length-1;)t.push(0),n++;return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:r)(t.reverse())}}).call(this)}).call(this,t(38)(e),t(0).Buffer)},,function(e,r,t){(function(r){var a=t(22),i=a.Chain,n=a.composeChain,o=t(27),s=o.validateVoteDefinition,h=o.validateParticipants,u=t(13),c=u.Entry,l=u.composeEntry,f=t(4),d=f.sign,p=t(23).getKeyPair,m=32;function v(e,t){if(!s(e))throw new Error("Vote definition validation error:\n"+JSON.stringify(s.errors));var a=p(t.secretKey),n=r.from(JSON.stringify(e),"utf8"),o=d.detached(n,a.secretKey);return new i(c.builder().extId("factom-vote","utf8").extId("00").extId(t.id).extId(a.publicKey).extId(o).content(n).build())}function g(e,t){if(!h(e))throw new Error("Vote participants validation error:\n"+JSON.stringify(h.errors));var a=p(t.secretKey),n=f.randomBytes(m),o=r.from(JSON.stringify(e),"utf8"),s=d.detached(r.concat([n,o]),a.secretKey);return new i(c.builder().extId("factom-vote-participants","utf8").extId(t.id).extId(n).extId(a.publicKey).extId(s).content(o,"utf8").build())}function y(e,t,a){if(!h(e))throw new Error("Vote participants validation error:\n"+JSON.stringify(h.errors));var i=p(a),n=r.from(f.randomBytes(m)),o=r.from(JSON.stringify(e),"utf8"),s=d.detached(r.concat([r.from(t,"hex"),n,o]),i.secretKey);return c.builder().chainId(t).extId(n).extId(s).content(o,"utf8").build()}function E(e,t){return c.builder().chainId(e).extId(r.from("Register Factom Vote","utf8")).extId(r.from(t,"hex")).build()}function P(e){return{commit:e.commit.toString("hex"),reveal:e.reveal.toString("hex")}}e.exports={generateVoteRegistrationEntry:E,generateVoteChain:v,generateVoteParticipantsChain:g,generateAppendParticipantsEntry:y,composeVoteRegistrationEntry:function(e,r,t){return P(l(E(e,r),t))},composeVoteChain:function(e,r,t){return P(n(v(e,r),t))},composeVoteParticipantsChain:function(e,r,t){return P(n(g(e,r),t))},composeAppendParticipantsEntry:function(e,r,t,a){return P(l(y(e,r,t),a))}}}).call(this,t(0).Buffer)},function(e,r,t){(function(r){var a=t(13),i=a.Entry,n=a.composeEntry,o=t(90),s=t(4).sign,h=t(27).validateVote,u=t(23).getKeyPair;function c(e,t){if(!h(e))throw new Error("Vote validation error:\n"+JSON.stringify(h.errors));var a=r.concat(e.vote.map(function(e){return r.from(e,"utf8")})),n=o.hmac(o[e.hmacAlgo],r.from(e.secret,"hex")).update(a).digest("hex"),c=r.from(JSON.stringify({commitment:n})),l=u(t.secretKey),f=r.from(e.voteChainId,"hex"),d=s.detached(r.concat([f,c]),l.secretKey);return i.builder().chainId(f).extId("factom-vote-commit","utf8").extId(t.id).extId(l.publicKey).extId(d).content(c,"utf8").build()}function l(e,t){if(!h(e))throw new Error("Vote validation error:\n"+JSON.stringify(h.errors));var a=r.from(JSON.stringify({vote:e.vote,secret:r.from(e.secret,"hex").toString("hex"),hmacAlgo:e.hmacAlgo}),"utf8"),n=u(t.secretKey),o=r.from(e.voteChainId,"hex"),c=s.detached(r.concat([o,a]),n.secretKey);return i.builder().chainId(e.voteChainId).extId("factom-vote-reveal","utf8").extId(t.id).extId(n.publicKey).extId(c).content(a,"utf8").build()}function f(e){return{commit:e.commit.toString("hex"),reveal:e.reveal.toString("hex")}}e.exports={generateVoteCommitEntry:c,generateVoteRevealEntry:l,composeVoteCommitEntry:function(e,r,t){return f(n(c(e,r),t))},composeVoteRevealEntry:function(e,r,t){return f(n(l(e,r),t))}}}).call(this,t(0).Buffer)},,,function(e,r,t){"use strict";r.byteLength=function(e){var r=u(e),t=r[0],a=r[1];return 3*(t+a)/4-a},r.toByteArray=function(e){for(var r,t=u(e),a=t[0],o=t[1],s=new n(function(e,r,t){return 3*(r+t)/4-t}(0,a,o)),h=0,c=o>0?a-4:a,l=0;l<c;l+=4)r=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],s[h++]=r>>16&255,s[h++]=r>>8&255,s[h++]=255&r;2===o&&(r=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,s[h++]=255&r);1===o&&(r=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,s[h++]=r>>8&255,s[h++]=255&r);return s},r.fromByteArray=function(e){for(var r,t=e.length,i=t%3,n=[],o=0,s=t-i;o<s;o+=16383)n.push(l(e,o,o+16383>s?s:o+16383));1===i?(r=e[t-1],n.push(a[r>>2]+a[r<<4&63]+"==")):2===i&&(r=(e[t-2]<<8)+e[t-1],n.push(a[r>>10]+a[r>>4&63]+a[r<<2&63]+"="));return n.join("")};for(var a=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=o.length;s<h;++s)a[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=r),[t,t===r?0:4-t%4]}function c(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function l(e,r,t){for(var a,i=[],n=r;n<t;n+=3)a=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),i.push(c(a));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,r){r.read=function(e,r,t,a,i){var n,o,s=8*i-a-1,h=(1<<s)-1,u=h>>1,c=-7,l=t?i-1:0,f=t?-1:1,d=e[r+l];for(l+=f,n=d&(1<<-c)-1,d>>=-c,c+=s;c>0;n=256*n+e[r+l],l+=f,c-=8);for(o=n&(1<<-c)-1,n>>=-c,c+=a;c>0;o=256*o+e[r+l],l+=f,c-=8);if(0===n)n=1-u;else{if(n===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,a),n-=u}return(d?-1:1)*o*Math.pow(2,n-a)},r.write=function(e,r,t,a,i,n){var o,s,h,u=8*n-i-1,c=(1<<u)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=a?0:n-1,p=a?1:-1,m=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,o=c):(o=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-o))<1&&(o--,h*=2),(r+=o+l>=1?f/h:f*Math.pow(2,1-l))*h>=2&&(o++,h/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(r*h-1)*Math.pow(2,i),o+=l):(s=r*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[t+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[t+d]=255&o,d+=p,o/=256,u-=8);e[t+d-p]|=128*m}},,function(e,r){},function(e,r){e.exports=a;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function a(e,r,t){this.low=0|e,this.high=0|r,this.unsigned=!!t}function i(e){return!0===(e&&e.__isLong__)}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=i;var n={},o={};function s(e,r){var t,a,i;return r?(i=0<=(e>>>=0)&&e<256)&&(a=o[e])?a:(t=u(e,(0|e)<0?-1:0,!0),i&&(o[e]=t),t):(i=-128<=(e|=0)&&e<128)&&(a=n[e])?a:(t=u(e,e<0?-1:0,!1),i&&(n[e]=t),t)}function h(e,r){if(isNaN(e))return r?y:g;if(r){if(e<0)return y;if(e>=p)return _}else{if(e<=-m)return S;if(e+1>=m)return b}return e<0?h(-e,r).neg():u(e%d|0,e/d|0,r)}function u(e,r,t){return new a(e,r,t)}a.fromInt=s,a.fromNumber=h,a.fromBits=u;var c=Math.pow;function l(e,r,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof r?(t=r,r=!1):r=!!r,(t=t||10)<2||36<t)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return l(e.substring(1),r,t).neg();for(var i=h(c(t,8)),n=g,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+s),t);if(s<8){var f=h(c(t,s));n=n.mul(f).add(h(u))}else n=(n=n.mul(i)).add(h(u))}return n.unsigned=r,n}function f(e,r){return"number"==typeof e?h(e,r):"string"==typeof e?l(e,r):u(e.low,e.high,"boolean"==typeof r?r:e.unsigned)}a.fromString=l,a.fromValue=f;var d=4294967296,p=d*d,m=p/2,v=s(1<<24),g=s(0);a.ZERO=g;var y=s(0,!0);a.UZERO=y;var E=s(1);a.ONE=E;var P=s(1,!0);a.UONE=P;var w=s(-1);a.NEG_ONE=w;var b=u(-1,2147483647,!1);a.MAX_VALUE=b;var _=u(-1,-1,!0);a.MAX_UNSIGNED_VALUE=_;var S=u(0,-2147483648,!1);a.MIN_VALUE=S;var A=a.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},A.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var r=h(e),t=this.div(r),a=t.mul(r).sub(this);return t.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=h(c(e,6),this.unsigned),n=this,o="";;){var s=n.div(i),u=(n.sub(s.mul(i)).toInt()>>>0).toString(e);if((n=s).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,r=31;r>0&&0==(e&1<<r);r--);return 0!=this.high?r+33:r+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var r=this.isNegative(),t=e.isNegative();return r&&!t?-1:!r&&t?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(E)},A.neg=A.negate,A.add=function(e){i(e)||(e=f(e));var r=this.high>>>16,t=65535&this.high,a=this.low>>>16,n=65535&this.low,o=e.high>>>16,s=65535&e.high,h=e.low>>>16,c=0,l=0,d=0,p=0;return d+=(p+=n+(65535&e.low))>>>16,l+=(d+=a+h)>>>16,c+=(l+=t+s)>>>16,c+=r+o,u((d&=65535)<<16|(p&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},A.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return g;if(i(e)||(e=f(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return h(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,a=65535&this.high,n=this.low>>>16,o=65535&this.low,s=e.high>>>16,c=65535&e.high,l=e.low>>>16,d=65535&e.low,p=0,m=0,y=0,E=0;return y+=(E+=o*d)>>>16,m+=(y+=n*d)>>>16,y&=65535,m+=(y+=o*l)>>>16,p+=(m+=a*d)>>>16,m&=65535,p+=(m+=n*l)>>>16,m&=65535,p+=(m+=o*c)>>>16,p+=r*d+a*l+n*c+o*s,u((y&=65535)<<16|(E&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var r,a,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return P;n=y}else{if(this.eq(S))return e.eq(E)||e.eq(w)?S:e.eq(S)?E:(r=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?E:w:(a=this.sub(e.mul(r)),n=r.add(a.div(e)));else if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=g}for(a=this;a.gte(e);){r=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),s=o<=48?1:c(2,o-48),l=h(r),d=l.mul(e);d.isNegative()||d.gt(a);)d=(l=h(r-=s,this.unsigned)).mul(e);l.isZero()&&(l=E),n=n.add(l),a=a.sub(d)}return n},A.div=A.divide,A.modulo=function(e){return i(e)||(e=f(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return u(~this.low,~this.high,this.unsigned)},A.and=function(e){return i(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return i(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return i(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?u(this.low>>>e|r<<32-e,r>>>e,this.unsigned):u(32===e?r:r>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,r=this.low;return[255&r,r>>>8&255,r>>>16&255,r>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,r>>>24,r>>>16&255,r>>>8&255,255&r]},a.fromBytes=function(e,r,t){return t?a.fromBytesLE(e,r):a.fromBytesBE(e,r)},a.fromBytesLE=function(e,r){return new a(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},a.fromBytesBE=function(e,r){return new a(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)}},,function(e,r,t){"use strict";var a=t(52),i=t(18),n=t(56),o=t(28),s=t(29),h=t(57),u=t(58),c=t(79),l=t(6);e.exports=g,g.prototype.validate=function(e,r){var t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var i=t(r);!0!==t.$async&&(this.errors=t.errors);return i},g.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},g.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,t,a);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return _(this,r=i.normalizeId(r||o)),this._schemas[r]=this._addSchema(e,t,a,!0),this},g.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},g.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(!(t=t||this._opts.defaultMeta||function(e){var r=e._opts.meta;return e._opts.defaultMeta="object"==typeof r?e._getId(r)||r:e.getSchema(p)?p:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a,i=this._formats.uri;this._formats.uri="function"==typeof i?this._schemaUriFormatFunc:this._schemaUriFormat;try{a=this.validate(t,e)}finally{this._formats.uri=i}if(!a&&r){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return a},g.prototype.getSchema=function(e){var r=y(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return function(e,r){var t=i.schema.call(e,{schema:{}},r);if(t){var n=t.schema,s=t.root,h=t.baseId,u=a.call(e,n,s,void 0,h);return e._fragments[r]=new o({ref:r,fragment:!0,schema:n,root:s,baseId:h,validate:u}),u}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return E(this,this._schemas,e),E(this,this._refs,e),this;switch(typeof e){case"undefined":return E(this,this._schemas),E(this,this._refs),this._cache.clear(),this;case"string":var r=y(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var n=this._getId(e);n&&(n=i.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},g.prototype.addFormat=function(e,r){"string"==typeof r&&(r=new RegExp(r));return this._formats[e]=r,this},g.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return"No errors";for(var t=void 0===(r=r||{}).separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,i="",n=0;n<e.length;n++){var o=e[n];o&&(i+=a+o.dataPath+" "+o.message+t)}return i.slice(0,-t.length)},g.prototype._addSchema=function(e,r,t,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(e):e,h=this._cache.get(s);if(h)return h;a=a||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&a&&_(this,u);var c,l=!1!==this._opts.validateSchema&&!r;l&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=i.ids.call(this,e),d=new o({id:u,schema:e,localRefs:f,cacheKey:s,meta:t});"#"!=u[0]&&a&&(this._refs[u]=d);this._cache.put(s,d),l&&c&&this.validateSchema(e,!0);return d},g.prototype._compile=function(e,r){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=r||n,!0===e.schema.$async&&(n.$async=!0),n;var t,i;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{i=a.call(this,e.schema,r,e.localRefs)}catch(r){throw delete e.validate,r}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function n(){var r=e.validate,t=r.apply(this,arguments);return n.errors=r.errors,t}},g.prototype.compileAsync=t(80);var f=t(81);g.prototype.addKeyword=f.add,g.prototype.getKeyword=f.get,g.prototype.removeKeyword=f.remove;var d=t(20);g.ValidationError=d.Validation,g.MissingRefError=d.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=l.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:S,warn:S,error:S};else{if(void 0===r&&(r=console),!("object"==typeof r&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=h(e.format);var r=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return r.test(e)},this._cache=e.cache||new n,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return b;case"id":return P;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var r=l.copy(e._opts),t=0;t<m.length;t++)delete r[m[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),function(e){var r;e._opts.$data&&(r=t(83),e.addMetaSchema(r,r.$id,!0));if(!1===e._opts.meta)return;var a=t(84);e._opts.$data&&(a=c(a,v));e.addMetaSchema(a,p,!0),e._refs["http://json-schema.org/schema"]=p}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var r=e._opts.schemas;if(!r)return;if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function y(e,r){return r=i.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function E(e,r,t){for(var a in r){var i=r[a];i.meta||t&&!t.test(a)||(e._cache.del(i.cacheKey),delete r[a])}}function P(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function b(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function _(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function S(){}},function(e,r,t){"use strict";var a=t(18),i=t(6),n=t(20),o=t(29),s=t(30),h=i.ucs2length,u=t(19),c=n.Validation;function l(e,r,t){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==r&&i.baseId==t)return a}return-1}function f(e,r){return"var pattern"+e+" = new RegExp("+i.toQuotedString(r[e])+");"}function d(e){return"var default"+e+" = defaults["+e+"];"}function p(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function m(e){return"var customRule"+e+" = customRules["+e+"];"}function v(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}e.exports=function e(r,t,g,y){var E=this,P=this._opts,w=[void 0],b={},_=[],S={},A=[],x={},R=[];t=t||{schema:r,refVal:w,refs:b};var I=function(e,r,t){var a=l.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}.call(this,r,t,y);var D=this._compilations[I.index];if(I.compiling)return D.callValidate=function e(){var r=D.validate;var t=r.apply(this,arguments);e.errors=r.errors;return t};var F=this._formats;var C=this.RULES;try{var O=$(r,t,g,y);D.validate=O;var T=D.callValidate;return T&&(T.schema=O.schema,T.errors=null,T.refs=O.refs,T.refVal=O.refVal,T.root=O.root,T.$async=O.$async,P.sourceCode&&(T.source=O.source)),O}finally{(function(e,r,t){var a=l.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}).call(this,r,t,y)}function $(r,o,l,g){var y=!o||o&&o.schema==r;if(o.schema!=t.schema)return e.call(E,r,o,l,g);var S,x=!0===r.$async,I=s({isTop:!0,schema:r,isRoot:y,baseId:g,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:n.MissingRef,RULES:C,validate:s,util:i,resolve:a,resolveRef:U,usePattern:j,useDefault:N,useCustomRule:B,opts:P,formats:F,logger:E.logger,self:E});I=v(w,p)+v(_,f)+v(A,d)+v(R,m)+I,P.processCode&&(I=P.processCode(I));try{var D=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",I);S=D(E,C,F,t,w,A,R,u,h,c),w[0]=S}catch(e){throw E.logger.error("Error compiling schema, function code:",I),e}return S.schema=r,S.errors=null,S.refs=b,S.refVal=w,S.root=y?S:o,x&&(S.$async=!0),!0===P.sourceCode&&(S.source={code:I,patterns:_,defaults:A}),S}function U(r,i,n){i=a.url(r,i);var o,s,h=b[i];if(void 0!==h)return L(o=w[h],s="refVal["+h+"]");if(!n&&t.refs){var u=t.refs[i];if(void 0!==u)return o=t.refVal[u],s=k(i,o),L(o,s)}s=k(i);var c=a.call(E,$,t,i);if(void 0===c){var l=g&&g[i];l&&(c=a.inlineRef(l,P.inlineRefs)?l:e.call(E,l,t,g,r))}if(void 0!==c)return function(e,r){var t=b[e];w[t]=r}(i,c),L(c,s);!function(e){delete b[e]}(i)}function k(e,r){var t=w.length;return w[t]=r,b[e]=t,"refVal"+t}function L(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function j(e){var r=S[e];return void 0===r&&(r=S[e]=_.length,_[r]=e),"pattern"+r}function N(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var r=o(e),t=x[r];return void 0===t&&(t=x[r]=A.length,A[t]=e),"default"+t}}function B(e,r,t,a){var i=e.definition.validateSchema;if(i&&!1!==E._opts.validateSchema){var n=i(r);if(!n){var o="keyword schema is invalid: "+E.errorsText(i.errors);if("log"!=E._opts.validateSchema)throw new Error(o);E.logger.error(o)}}var s,h=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(h)s=h.call(E,r,t,a);else if(c)s=c.call(E,r,t,a),!1!==P.validateSchema&&E.validateSchema(s,!0);else if(u)s=u.call(E,a,e.keyword,r,t);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var l=R.length;return R[l]=s,{code:"customRule"+l,validate:s}}}},function(e,r,t){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var a=r.length-1,i=1;i<a;++i)r[i]=r[i].slice(1,-1);return r[a]=r[a].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function n(e){var a=r("[0-9]","[A-Fa-f]"),i=t(t("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+t("%[89A-Fa-f]"+a+"%"+a+a)+"|"+t("%"+a+a)),n="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=r("[\\:\\/\\?\\#\\[\\]\\@]",n),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",h=e?"[\\uE000-\\uF8FF]":"[]",u=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),c=t("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=t(t(i+"|"+r(u,n,"[\\:]"))+"*"),f=(t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("0?[1-9][0-9]")+"|0?0?[0-9]")),d=t(f+"\\."+f+"\\."+f+"\\."+f),p=t(a+"{1,4}"),m=t(t(p+"\\:"+p)+"|"+d),v=t(t(p+"\\:")+"{6}"+m),g=t("\\:\\:"+t(p+"\\:")+"{5}"+m),y=t(t(p)+"?\\:\\:"+t(p+"\\:")+"{4}"+m),E=t(t(t(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+t(p+"\\:")+"{3}"+m),P=t(t(t(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+t(p+"\\:")+"{2}"+m),w=t(t(t(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+m),b=t(t(t(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+m),_=t(t(t(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),S=t(t(t(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),A=t([v,g,y,E,P,w,b,_,S].join("|")),x=t(t(u+"|"+i)+"+"),R=(t(A+"\\%25"+x),t(A+t("\\%25|\\%(?!"+a+"{2})")+x)),I=t("[vV]"+a+"+\\."+r(u,n,"[\\:]")+"+"),D=t("\\["+t(R+"|"+A+"|"+I)+"\\]"),F=t(t(i+"|"+r(u,n))+"*"),C=t(D+"|"+d+"(?!"+F+")|"+F),O=t("[0-9]*"),T=t(t(l+"@")+"?"+C+t("\\:"+O)+"?"),$=t(i+"|"+r(u,n,"[\\:\\@]")),U=t($+"*"),k=t($+"+"),L=t(t(i+"|"+r(u,n,"[\\@]"))+"+"),j=t(t("\\/"+U)+"*"),N=t("\\/"+t(k+j)+"?"),B=t(L+j),z=t(k+j),M="(?!"+$+")",V=(t(j+"|"+N+"|"+B+"|"+z+"|"+M),t(t($+"|"+r("[\\/\\?]",h))+"*")),q=t(t($+"|[\\/\\?]")+"*"),H=t(t("\\/\\/"+T+j)+"|"+N+"|"+z+"|"+M),Y=t(c+"\\:"+H+t("\\?"+V)+"?"+t("\\#"+q)+"?"),K=t(t("\\/\\/"+T+j)+"|"+N+"|"+B+"|"+M),Q=t(K+t("\\?"+V)+"?"+t("\\#"+q)+"?");return t(Y+"|"+Q),t(c+"\\:"+H+t("\\?"+V)+"?"),t(t("\\/\\/("+t("("+l+")@")+"?("+C+")"+t("\\:("+O+")")+"?)")+"?("+j+"|"+N+"|"+z+"|"+M+")"),t("\\?("+V+")"),t("\\#("+q+")"),t(t("\\/\\/("+t("("+l+")@")+"?("+C+")"+t("\\:("+O+")")+"?)")+"?("+j+"|"+N+"|"+B+"|"+M+")"),t("\\?("+V+")"),t("\\#("+q+")"),t(t("\\/\\/("+t("("+l+")@")+"?("+C+")"+t("\\:("+O+")")+"?)")+"?("+j+"|"+N+"|"+z+"|"+M+")"),t("\\?("+V+")"),t("\\#("+q+")"),t("("+l+")@"),t("\\:("+O+")"),{NOT_SCHEME:new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,n),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,n),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,n),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,n),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]",h),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,n),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+t(t("\\%25|\\%(?!"+a+"{2})")+"("+x+")")+"?\\]?$")}}var o=n(!1),s=n(!0),h=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,l=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(d[e])}function g(e,r){var t=e.split("@"),a="";t.length>1&&(a=t[0]+"@",e=t[1]);var i=(e=e.replace(f,".")).split("."),n=function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}(i,r).join(".");return a+n}function y(e){for(var r=[],t=0,a=e.length;t<a;){var i=e.charCodeAt(t++);if(i>=55296&&i<=56319&&t<a){var n=e.charCodeAt(t++);56320==(64512&n)?r.push(((1023&i)<<10)+(1023&n)+65536):(r.push(i),t--)}else r.push(i)}return r}var E=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36},P=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},w=function(e,r,t){var a=0;for(e=t?p(e/700):e>>1,e+=p(e/r);e>455;a+=36)e=p(e/35);return p(a+36*e/(e+38))},b=function(e){var r=[],t=e.length,a=0,i=128,n=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&v("not-basic"),r.push(e.charCodeAt(s));for(var h=o>0?o+1:0;h<t;){for(var c=a,l=1,f=36;;f+=36){h>=t&&v("invalid-input");var d=E(e.charCodeAt(h++));(d>=36||d>p((u-a)/l))&&v("overflow"),a+=d*l;var m=f<=n?1:f>=n+26?26:f-n;if(d<m)break;var g=36-m;l>p(u/g)&&v("overflow"),l*=g}var y=r.length+1;n=w(a-c,y,0==c),p(a/y)>u-i&&v("overflow"),i+=p(a/y),a%=y,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},_=function(e){var r=[],t=(e=y(e)).length,a=128,i=0,n=72,o=!0,s=!1,h=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;f<128&&r.push(m(f))}}catch(e){s=!0,h=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw h}}var d=r.length,g=d;for(d&&r.push("-");g<t;){var E=u,b=!0,_=!1,S=void 0;try{for(var A,x=e[Symbol.iterator]();!(b=(A=x.next()).done);b=!0){var R=A.value;R>=a&&R<E&&(E=R)}}catch(e){_=!0,S=e}finally{try{!b&&x.return&&x.return()}finally{if(_)throw S}}var I=g+1;E-a>p((u-i)/I)&&v("overflow"),i+=(E-a)*I,a=E;var D=!0,F=!1,C=void 0;try{for(var O,T=e[Symbol.iterator]();!(D=(O=T.next()).done);D=!0){var $=O.value;if($<a&&++i>u&&v("overflow"),$==a){for(var U=i,k=36;;k+=36){var L=k<=n?1:k>=n+26?26:k-n;if(U<L)break;var j=U-L,N=36-L;r.push(m(P(L+j%N,0))),U=p(j/N)}r.push(m(P(U,0))),n=w(i,I,g==d),i=0,++g}}}catch(e){F=!0,C=e}finally{try{!D&&T.return&&T.return()}finally{if(F)throw C}}++i,++a}return r.join("")},S={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:b,encode:_,toASCII:function(e){return g(e,function(e){return l.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return g(e,function(e){return c.test(e)?b(e.slice(4).toLowerCase()):e})}},A={};function x(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function R(e){for(var r="",t=0,a=e.length;t<a;){var i=parseInt(e.substr(t+1,2),16);if(i<128)r+=String.fromCharCode(i),t+=3;else if(i>=194&&i<224){if(a-t>=6){var n=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&i)<<6|63&n)}else r+=e.substr(t,6);t+=6}else if(i>=224){if(a-t>=9){var o=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function I(e,r){function t(e){var t=R(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,x).replace(r.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,x).replace(r.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,x).replace(r.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,x).replace(r.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,x).replace(r.PCT_ENCODED,i)),e}function D(e){return e.replace(/^0*(.*)/,"$1")||"0"}function F(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=h(t,2),i=a[1];return i?i.split(".").map(D).join("."):e}function C(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=h(t,3),i=a[1],n=a[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=h(o,2),u=s[0],c=s[1],l=c?c.split(":").map(D):[],f=u.split(":").map(D),d=r.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,v=Array(p),g=0;g<p;++g)v[g]=l[g]||f[m+g]||"";d&&(v[p-1]=F(v[p-1],r));var y=v.reduce(function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e},[]),E=y.sort(function(e,r){return r.length-e.length})[0],P=void 0;if(E&&E.length>1){var w=v.slice(0,E.index),b=v.slice(E.index+E.length);P=w.join(":")+"::"+b.join(":")}else P=v.join(":");return n&&(P+="%"+n),P}return e}var O=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function $(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?s:o;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var i=e.match(O);if(i){T?(t.scheme=i[1],t.userinfo=i[3],t.host=i[4],t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=i[7],t.fragment=i[8],isNaN(t.port)&&(t.port=i[5])):(t.scheme=i[1]||void 0,t.userinfo=-1!==e.indexOf("@")?i[3]:void 0,t.host=-1!==e.indexOf("//")?i[4]:void 0,t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=-1!==e.indexOf("?")?i[7]:void 0,t.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),t.host&&(t.host=C(F(t.host,a),a)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var n=A[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||n&&n.unicodeSupport)I(t,a);else{if(t.host&&(r.domainHost||n&&n.domainHost))try{t.host=S.toASCII(t.host.replace(a.PCT_ENCODED,R).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}I(t,o)}n&&n.parse&&n.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var U=/^\.\.?\//,k=/^\/\.(\/|$)/,L=/^\/\.\.(\/|$)/,j=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var r=[];e.length;)if(e.match(U))e=e.replace(U,"");else if(e.match(k))e=e.replace(k,"/");else if(e.match(L))e=e.replace(L,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(j);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join("")}function B(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:o,a=[],i=A[(r.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||i&&i.domainHost)try{e.host=r.iri?S.toUnicode(e.host):S.toASCII(e.host.replace(t.PCT_ENCODED,R).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}I(e,t),"suffix"!==r.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var n=function(e,r){var t=!1!==r.iri?s:o,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(C(F(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"})),"number"==typeof e.port&&(a.push(":"),a.push(e.port.toString(10))),a.length?a.join(""):void 0}(e,r);if(void 0!==n&&("suffix"!==r.reference&&a.push("//"),a.push(n),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var h=e.path;r.absolutePath||i&&i.absolutePath||(h=N(h)),void 0===n&&(h=h.replace(/^\/\//,"/%2F")),a.push(h)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function z(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],i={};return a||(e=$(B(e,t),t),r=$(B(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(i.scheme=r.scheme,i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=N(r.path||""),i.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=N(r.path||""),i.query=r.query):(r.path?("/"===r.path.charAt(0)?i.path=N(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:i.path=r.path:i.path="/"+r.path,i.path=N(i.path)),i.query=r.query):(i.path=e.path,void 0!==r.query?i.query=r.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=r.fragment,i}function M(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:o.PCT_ENCODED,R)}var V={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},q={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},H={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",K="[0-9A-Fa-f]",Q=t(t("%[EFef][0-9A-Fa-f]%"+K+K+"%"+K+K)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+K+K)+"|"+t("%"+K+K)),Z=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),X=new RegExp(Y,"g"),J=new RegExp(Q,"g"),G=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),W=new RegExp(r("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ee=W;function re(e){var r=R(e);return r.match(X)?r:e}var te={scheme:"mailto",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var i=!1,n={},o=t.query.split("&"),s=0,h=o.length;s<h;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),l=0,f=c.length;l<f;++l)a.push(c[l]);break;case"subject":t.subject=M(u[1],r);break;case"body":t.body=M(u[1],r);break;default:i=!0,n[M(u[0],r)]=M(u[1],r)}}i&&(t.headers=n)}t.query=void 0;for(var d=0,p=a.length;d<p;++d){var m=a[d].split("@");if(m[0]=M(m[0]),r.unicodeSupport)m[1]=M(m[1],r).toLowerCase();else try{m[1]=S.toASCII(M(m[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[d]=m.join("@")}return t},serialize:function(e,r){var t=e,a=function(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(a){for(var n=0,o=a.length;n<o;++n){var s=String(a[n]),h=s.lastIndexOf("@"),u=s.slice(0,h).replace(J,re).replace(J,i).replace(G,x),c=s.slice(h+1);try{c=r.iri?S.toUnicode(c):S.toASCII(M(c,r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[n]=u+"@"+c}t.path=a.join(",")}var l=e.headers=e.headers||{};e.subject&&(l.subject=e.subject),e.body&&(l.body=e.body);var f=[];for(var d in l)l[d]!==H[d]&&f.push(d.replace(J,re).replace(J,i).replace(W,x)+"="+l[d].replace(J,re).replace(J,i).replace(ee,x));return f.length&&(t.query=f.join("&")),t}},ae=/^([^\:]+)\:(.*)/,ie={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(ae),a=e;if(t){var i=r.scheme||a.scheme||"urn",n=t[1].toLowerCase(),o=t[2],s=i+":"+(r.nid||n),h=A[s];a.nid=n,a.nss=o,a.path=void 0,h&&(a=h.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",a=e.nid,i=t+":"+(r.nid||a),n=A[i];n&&(e=n.serialize(e,r));var o=e,s=e.nss;return o.path=(a||r.nid)+":"+s,o}},ne=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(ne)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};A[V.scheme]=V,A[q.scheme]=q,A[te.scheme]=te,A[ie.scheme]=ie,A[oe.scheme]=oe,e.SCHEMES=A,e.pctEncChar=x,e.pctDecChars=R,e.parse=$,e.removeDotSegments=N,e.serialize=B,e.resolveComponents=z,e.resolve=function(e,r,t){var a=function(e,r){var t=e;if(r)for(var a in r)t[a]=r[a];return t}({scheme:"null"},t);return B(z($(e,a),$(r,a),a,!0),a)},e.normalize=function(e,r){return"string"==typeof e?e=B($(e,r),r):"object"===a(e)&&(e=$(B(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=B($(e,t),t):"object"===a(e)&&(e=B(e,t)),"string"==typeof r?r=B($(r,t),t):"object"===a(r)&&(r=B(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:o.ESCAPE,x)},e.unescapeComponent=M,Object.defineProperty(e,"__esModule",{value:!0})}(r)},function(e,r,t){"use strict";e.exports=function(e){for(var r,t=0,a=e.length,i=0;i<a;)t++,(r=e.charCodeAt(i++))>=55296&&r<=56319&&i<a&&56320==(64512&(r=e.charCodeAt(i)))&&i++;return t}},function(e,r,t){"use strict";var a=e.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),function e(r,t,n,o,s,h,u,c,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in t(o,s,h,u,c,l,f),o){var p=o[d];if(Array.isArray(p)){if(d in a.arrayKeywords)for(var m=0;m<p.length;m++)e(r,t,n,p[m],s+"/"+d+"/"+m,h,s,d,o,m)}else if(d in a.propsKeywords){if(p&&"object"==typeof p)for(var v in p)e(r,t,n,p[v],s+"/"+d+"/"+i(v),h,s,d,o,v)}else(d in a.keywords||r.allKeys&&!(d in a.skipKeywords))&&e(r,t,n,p,s+"/"+d,h,s,d,o)}n(o,s,h,u,c,l,f)}}(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,r,t){"use strict";var a=e.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},function(e,r,t){"use strict";var a=t(6),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,l=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",a.copy(m[e])}function v(e){var r=e.match(i);if(!r)return!1;var t=+r[1],a=+r[2],o=+r[3];return a>=1&&a<=12&&o>=1&&o<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(t)?29:n[a])}function g(e,r){var t=e.match(o);if(!t)return!1;var a=t[1],i=t[2],n=t[3],s=t[5];return(a<=23&&i<=59&&n<=59||23==a&&59==i&&60==n)&&(!r||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:l,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:v,time:g,"date-time":function(e){var r=e.split(y);return 2==r.length&&v(r[0])&&g(r[1],!0)},uri:function(e){return E.test(e)&&h.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&s.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:l,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var y=/t|\s/i;var E=/\/|:/;var P=/[^\\]\\Z/;function w(e){if(P.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,r,t){"use strict";var a=t(59),i=t(6).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"];return e.all=i(r),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach(function(t){t.rules=t.rules.map(function(t){var i;if("object"==typeof t){var n=Object.keys(t)[0];i=t[n],t=n,i.forEach(function(t){r.push(t),e.all[t]=!0})}return r.push(t),e.all[t]={keyword:t,code:a[t],implements:i}}),e.all.$comment={keyword:"$comment",code:a.$comment},t.type&&(e.types[t.type]=t)}),e.keywords=i(r.concat(["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,r,t){"use strict";e.exports={$ref:t(60),allOf:t(61),anyOf:t(62),$comment:t(63),const:t(64),contains:t(65),dependencies:t(66),enum:t(67),format:t(68),if:t(69),items:t(70),maximum:t(31),minimum:t(31),maxItems:t(32),minItems:t(32),maxLength:t(33),minLength:t(33),maxProperties:t(34),minProperties:t(34),multipleOf:t(71),not:t(72),oneOf:t(73),pattern:t(74),properties:t(75),propertyNames:t(76),required:t(77),uniqueItems:t(78),validate:t(30)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i,n=" ",o=e.level,s=e.dataLevel,h=e.schema[r],u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(s||""),f="valid"+o;if("#"==h||"#/"==h)e.isRoot?(a=e.async,i="validate"):(a=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,h,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,h);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(h)+"' } ",!1!==e.opts.messages&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(h)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(h)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,h,p);e.logger.warn(p),c&&(n+=" if (true) { ")}}else if(d.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=h,n+=" "+e.validate(v).replace(/validate\.schema/g,d.code)+" ",c&&(n+=" if ("+g+") { ")}else a=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(n),n="",e.opts.passContext?n+=" "+i+".call(this, ":n+=" "+i+"( ",n+=" "+l+", (dataPath || '')",'""'!=e.errorPath&&(n+=" + "+e.errorPath);var E=n+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(n=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(n+=" var "+f+"; "),n+=" try { await "+E+"; ",c&&(n+=" "+f+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(n+=" "+f+" = false; "),n+=" } ",c&&(n+=" if ("+f+") { ")}else n+=" if (!"+E+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(n+=" else { ")}return n}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,s=!e.opts.allErrors,h=e.util.copy(e),u="";h.level++;var c="valid"+h.level,l=h.baseId,f=!0,d=i;if(d)for(var p,m=-1,v=d.length-1;m<v;)p=d[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(f=!1,h.schema=p,h.schemaPath=n+"["+m+"]",h.errSchemaPath=o+"/"+m,a+="  "+e.validate(h)+" ",h.baseId=l,s&&(a+=" if ("+c+") { ",u+="}"));return s&&(a+=f?" if (true) { ":" "+u.slice(0,-1)+" "),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(o.every(function(r){return e.util.schemaHasRules(r,e.RULES.all)})){var v=d.baseId;a+=" var "+f+" = errors; var "+l+" = false;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=o;if(y)for(var E,P=-1,w=y.length-1;P<w;)E=y[P+=1],d.schema=E,d.schemaPath=s+"["+P+"]",d.errSchemaPath=h+"/"+P,a+="  "+e.validate(d)+" ",d.baseId=v,a+=" "+l+" = "+l+" || "+m+"; if (!"+l+") { ",p+="}";e.compositeRule=d.compositeRule=g,a+=" "+p+" if (!"+l+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } "),a=e.util.cleanUpCode(a)}else u&&(a+=" if (true) { ");return a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.schema[r],n=e.errSchemaPath+"/"+r,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?a+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+o+", "+e.util.toQuotedString(n)+", validate.root.schema);"),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; "),f||(a+=" var schema"+i+" = validate.schema"+s+";"),a+="var "+l+" = equal("+c+", schema"+i+"); if (!"+l+") {   ";var d=d||[];d.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var p=a;return a=d.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m="i"+i,v=d.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,E=e.util.schemaHasRules(o,e.RULES.all);if(a+="var "+f+" = errors;var "+l+";",E){var P=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=o,d.schemaPath=s,d.errSchemaPath=h,a+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=c+"["+m+"]";d.dataPathArr[v]=m;var b=e.validate(d);d.baseId=y,e.util.varOccurences(b,g)<2?a+=" "+e.util.varReplace(b,g,w)+" ":a+=" var "+g+" = "+w+"; "+b+" ",a+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=P,a+="  if (!"+p+") {"}else a+=" if ("+c+".length == 0) {";var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var S=a;return a=_.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",E&&(a+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m={},v={},g=e.opts.ownProperties;for(w in o){var y=o[w],E=Array.isArray(y)?v:m;E[w]=y}a+="var "+l+" = errors;";var P=e.errorPath;for(var w in a+="var missing"+i+";",v)if((E=v[w]).length){if(a+=" if ( "+c+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),u){a+=" && ( ";var b=E;if(b)for(var _=-1,S=b.length-1;_<S;){F=b[_+=1],_&&(a+=" || "),a+=" ( ( "+($=c+(T=e.util.getProperty(F)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(F)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:T)+") ) "}a+=")) {  ";var A="missing"+i,x="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,A,!0):P+" + "+A);var R=R||[];R.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+x+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==E.length?a+="property "+e.util.escapeQuotes(E[0]):a+="properties "+e.util.escapeQuotes(E.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var I=a;a=R.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+I+"]); ":a+=" validate.errors = ["+I+"]; return false; ":a+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var D=E;if(D)for(var F,C=-1,O=D.length-1;C<O;){F=D[C+=1];var T=e.util.getProperty(F),$=(x=e.util.escapeQuotes(F),c+T);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,F,e.opts.jsonPointers)),a+=" if ( "+$+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(F)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+x+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==E.length?a+="property "+e.util.escapeQuotes(E[0]):a+="properties "+e.util.escapeQuotes(E.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(d+="}",a+=" else { ")}e.errorPath=P;var U=f.baseId;for(var w in m){y=m[w];e.util.schemaHasRules(y,e.RULES.all)&&(a+=" "+p+" = true; if ( "+c+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),a+=") { ",f.schema=y,f.schemaPath=s+e.util.getProperty(w),f.errSchemaPath=h+"/"+e.util.escapeFragment(w),a+="  "+e.validate(f)+" ",f.baseId=U,a+=" }  ",u&&(a+=" if ("+p+") { ",d+="}"))}return u&&(a+="   "+d+" if ("+l+" == errors) {"),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(a+=" var "+p+" = validate.schema"+s+";"),a+="var "+l+";",f&&(a+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),a+=l+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+l+" = true; break; }",f&&(a+="  }  "),a+=" if (!"+l+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||"");if(!1===e.opts.format)return u&&(a+=" if (true) { "),a;var l,f=e.opts.$data&&o&&o.$data;f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",l="schema"+i):l=o;var d=e.opts.unknownFormats,p=Array.isArray(d);if(f){a+=" var "+(m="format"+i)+" = formats["+l+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+i+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",f&&(a+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),a+=" (","ignore"!=d&&(a+=" ("+l+" && !"+m+" ",p&&(a+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),a+=") || "),a+=" ("+m+" && "+g+" == '"+t+"' && !(typeof "+m+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":a+=" "+m+"("+c+") ",a+=" : "+m+".test("+c+"))))) {"}else{var m;if(!(m=e.formats[o])){if("ignore"==d)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(a+=" if (true) { "),a;if(p&&d.indexOf(o)>=0)return u&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=t)return u&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(E="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{a+=" if (! ";var E="formats"+e.util.getProperty(o);v&&(E+=".validate"),a+="function"==typeof m?" "+E+"("+c+") ":" "+E+".test("+c+") ",a+=") { "}}var P=P||[];P.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { format:  ",a+=f?""+l:""+e.util.toQuotedString(o),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=f?"' + "+l+" + '":""+e.util.escapeQuotes(o),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var w=a;return a=P.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),E=d.baseId;if(g||y){var P;d.createErrors=!1,d.schema=o,d.schemaPath=s,d.errSchemaPath=h,a+=" var "+f+" = errors; var "+l+" = true;  ";var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,a+="  "+e.validate(d)+" ",d.baseId=E,d.createErrors=!0,a+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=w,g?(a+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(d)+" ",d.baseId=E,a+=" "+l+" = "+p+"; ",g&&y?a+=" var "+(P="ifClause"+i)+" = 'then'; ":P="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+p+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(d)+" ",d.baseId=E,a+=" "+l+" = "+p+"; ",g&&y?a+=" var "+(P="ifClause"+i)+" = 'else'; ":P="'else'",a+=" } "),a+=" if (!"+l+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { failingKeyword: "+P+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+P+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",u&&(a+=" else { "),a=e.util.cleanUpCode(a)}else u&&(a+=" if (true) { ");return a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,E=e.baseId;if(a+="var "+f+" = errors;var "+l+";",Array.isArray(o)){var P=e.schema.additionalItems;if(!1===P){a+=" "+l+" = "+c+".length <= "+o.length+"; ";var w=h;h=e.errSchemaPath+"/additionalItems",a+="  if (!"+l+") {   ";var b=b||[];b.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var _=a;a=b.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",h=w,u&&(p+="}",a+=" else { ")}var S=o;if(S)for(var A,x=-1,R=S.length-1;x<R;)if(A=S[x+=1],e.util.schemaHasRules(A,e.RULES.all)){a+=" "+m+" = true; if ("+c+".length > "+x+") { ";var I=c+"["+x+"]";d.schema=A,d.schemaPath=s+"["+x+"]",d.errSchemaPath=h+"/"+x,d.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),d.dataPathArr[g]=x;var D=e.validate(d);d.baseId=E,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,I)+" ":a+=" var "+y+" = "+I+"; "+D+" ",a+=" }  ",u&&(a+=" if ("+m+") { ",p+="}")}if("object"==typeof P&&e.util.schemaHasRules(P,e.RULES.all)){d.schema=P,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);I=c+"["+v+"]";d.dataPathArr[g]=v;D=e.validate(d);d.baseId=E,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,I)+" ":a+=" var "+y+" = "+I+"; "+D+" ",u&&(a+=" if (!"+m+") break; "),a+=" } }  ",u&&(a+=" if ("+m+") { ",p+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=h,a+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);I=c+"["+v+"]";d.dataPathArr[g]=v;D=e.validate(d);d.baseId=E,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,I)+" ":a+=" var "+y+" = "+I+"; "+D+" ",u&&(a+=" if (!"+m+") break; "),a+=" }"}return u&&(a+=" "+p+" if ("+f+" == errors) {"),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s,i+="var division"+n+";if (",f&&(i+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),i+=" (division"+n+" = "+l+" / "+a+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+n+" !== parseInt(division"+n+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="errs__"+i,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=h,a+=" var "+l+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),a+=" "+e.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),e.compositeRule=f.compositeRule=m,a+=" if ("+d+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(a+=" if (false) { ");return a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v=d.baseId,g="prevValid"+i,y="passingSchemas"+i;a+="var "+f+" = errors , "+g+" = false , "+l+" = false , "+y+" = null; ";var E=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=o;if(P)for(var w,b=-1,_=P.length-1;b<_;)w=P[b+=1],e.util.schemaHasRules(w,e.RULES.all)?(d.schema=w,d.schemaPath=s+"["+b+"]",d.errSchemaPath=h+"/"+b,a+="  "+e.validate(d)+" ",d.baseId=v):a+=" var "+m+" = true; ",b&&(a+=" if ("+m+" && "+g+") { "+l+" = false; "+y+" = ["+y+", "+b+"]; } else { ",p+="}"),a+=" if ("+m+") { "+l+" = "+g+" = true; "+y+" = "+b+"; }";return e.compositeRule=d.compositeRule=E,a+=p+"if (!"+l+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s;var d=f?"(new RegExp("+a+"))":e.usePattern(s);i+="if ( ",f&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),i+=" !"+d+".test("+l+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=f?""+a:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+a+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+h:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m="key"+i,v="idx"+i,g=f.dataLevel=e.dataLevel+1,y="data"+g,E="dataProperties"+i,P=Object.keys(o||{}),w=e.schema.patternProperties||{},b=Object.keys(w),_=e.schema.additionalProperties,S=P.length||b.length,A=!1===_,x="object"==typeof _&&Object.keys(_).length,R=e.opts.removeAdditional,I=A||x||R,D=e.opts.ownProperties,F=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var O=e.util.toHash(C);if(a+="var "+l+" = errors;var "+p+" = true;",D&&(a+=" var "+E+" = undefined;"),I){if(a+=D?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+E+".length; "+v+"++) { var "+m+" = "+E+"["+v+"]; ":" for (var "+m+" in "+c+") { ",S){if(a+=" var isAdditional"+i+" = !(false ",P.length)if(P.length>8)a+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var T=P;if(T)for(var $=-1,U=T.length-1;$<U;)Q=T[$+=1],a+=" || "+m+" == "+e.util.toQuotedString(Q)+" "}if(b.length){var k=b;if(k)for(var L=-1,j=k.length-1;L<j;)ie=k[L+=1],a+=" || "+e.usePattern(ie)+".test("+m+") "}a+=" ); if (isAdditional"+i+") { "}if("all"==R)a+=" delete "+c+"["+m+"]; ";else{var N=e.errorPath,B="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),A)if(R)a+=" delete "+c+"["+m+"]; ";else{a+=" "+p+" = false; ";var z=h;h=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { additionalProperty: '"+B+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var M=a;a=re.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=z,u&&(a+=" break; ")}else if(x)if("failing"==R){a+=" var "+l+" = errors;  ";var V=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=_,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var q=c+"["+m+"]";f.dataPathArr[g]=m;var H=e.validate(f);f.baseId=F,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,q)+" ":a+=" var "+y+" = "+q+"; "+H+" ",a+=" if (!"+p+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=f.compositeRule=V}else{f.schema=_,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);q=c+"["+m+"]";f.dataPathArr[g]=m;H=e.validate(f);f.baseId=F,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,q)+" ":a+=" var "+y+" = "+q+"; "+H+" ",u&&(a+=" if (!"+p+") break; ")}e.errorPath=N}S&&(a+=" } "),a+=" }  ",u&&(a+=" if ("+p+") { ",d+="}")}var Y=e.opts.useDefaults&&!e.compositeRule;if(P.length){var K=P;if(K)for(var Q,Z=-1,X=K.length-1;Z<X;){var J=o[Q=K[Z+=1]];if(e.util.schemaHasRules(J,e.RULES.all)){var G=e.util.getProperty(Q),W=(q=c+G,Y&&void 0!==J.default);f.schema=J,f.schemaPath=s+G,f.errSchemaPath=h+"/"+e.util.escapeFragment(Q),f.errorPath=e.util.getPath(e.errorPath,Q,e.opts.jsonPointers),f.dataPathArr[g]=e.util.toQuotedString(Q);H=e.validate(f);if(f.baseId=F,e.util.varOccurences(H,y)<2){H=e.util.varReplace(H,y,q);var ee=q}else{ee=y;a+=" var "+y+" = "+q+"; "}if(W)a+=" "+H+" ";else{if(O&&O[Q]){a+=" if ( "+ee+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),a+=") { "+p+" = false; ";N=e.errorPath,z=h;var re,te=e.util.escapeQuotes(Q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,Q,e.opts.jsonPointers)),h=e.errSchemaPath+"/required",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+te+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+te+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";M=a;a=re.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=z,e.errorPath=N,a+=" } else { "}else u?(a+=" if ( "+ee+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),a+=") { "+p+" = true; } else { "):(a+=" if ("+ee+" !== undefined ",D&&(a+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),a+=" ) { ");a+=" "+H+" } "}}u&&(a+=" if ("+p+") { ",d+="}")}}if(b.length){var ae=b;if(ae)for(var ie,ne=-1,oe=ae.length-1;ne<oe;){J=w[ie=ae[ne+=1]];if(e.util.schemaHasRules(J,e.RULES.all)){f.schema=J,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),a+=D?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+E+".length; "+v+"++) { var "+m+" = "+E+"["+v+"]; ":" for (var "+m+" in "+c+") { ",a+=" if ("+e.usePattern(ie)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);q=c+"["+m+"]";f.dataPathArr[g]=m;H=e.validate(f);f.baseId=F,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,q)+" ":a+=" var "+y+" = "+q+"; "+H+" ",u&&(a+=" if (!"+p+") break; "),a+=" } ",u&&(a+=" else "+p+" = true; "),a+=" }  ",u&&(a+=" if ("+p+") { ",d+="}")}}}return u&&(a+=" "+d+" if ("+l+" == errors) {"),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="errs__"+i,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=h;var p="key"+i,m="idx"+i,v="i"+i,g="' + "+p+" + '",y="data"+(f.dataLevel=e.dataLevel+1),E="dataProperties"+i,P=e.opts.ownProperties,w=e.baseId;a+=" var "+l+" = errors; ",P&&(a+=" var "+E+" = undefined; "),a+=P?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+E+".length; "+m+"++) { var "+p+" = "+E+"["+m+"]; ":" for (var "+p+" in "+c+") { ",a+=" var startErrs"+i+" = errors; ";var b=p,_=e.compositeRule;e.compositeRule=f.compositeRule=!0;var S=e.validate(f);f.baseId=w,e.util.varOccurences(S,y)<2?a+=" "+e.util.varReplace(S,y,b)+" ":a+=" var "+y+" = "+b+"; "+S+" ",e.compositeRule=f.compositeRule=_,a+=" if (!"+d+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),u&&(a+=" break; "),a+=" } }"}return u&&(a+="  if ("+l+" == errors) {"),a=e.util.cleanUpCode(a)}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(n||""),l="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ");var d="schema"+i;if(!f)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=o;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var E=e.schema.properties[v];E&&e.util.schemaHasRules(E,e.RULES.all)||(p[p.length]=v)}}else p=o;if(f||p.length){var P=e.errorPath,w=f||p.length>=e.opts.loopRequired,b=e.opts.ownProperties;if(u)if(a+=" var missing"+i+"; ",w){f||(a+=" var "+d+" = validate.schema"+s+"; ");var _="' + "+(D="schema"+i+"["+(x="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,D,e.opts.jsonPointers)),a+=" var "+l+" = true; ",f&&(a+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),a+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { "+l+" = "+c+"["+d+"["+x+"]] !== undefined ",b&&(a+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+x+"]) "),a+="; if (!"+l+") break; } ",f&&(a+="  }  "),a+="  if (!"+l+") {   ",(I=I||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+_+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var S=a;a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var A=p;if(A)for(var x=-1,R=A.length-1;x<R;){C=A[x+=1],x&&(a+=" || "),a+=" ( ( "+(U=c+($=e.util.getProperty(C)))+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:$)+") ) "}a+=") {  ";var I;_="' + "+(D="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,D,!0):P+" + "+D),(I=I||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+_+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";S=a;a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(w){f||(a+=" var "+d+" = validate.schema"+s+"; ");var D;_="' + "+(D="schema"+i+"["+(x="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,D,e.opts.jsonPointers)),f&&(a+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+_+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),a+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { if ("+c+"["+d+"["+x+"]] === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+x+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+_+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(a+="  }  ")}else{var F=p;if(F)for(var C,O=-1,T=F.length-1;O<T;){C=F[O+=1];var $=e.util.getProperty(C),U=(_=e.util.escapeQuotes(C),c+$);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,C,e.opts.jsonPointers)),a+=" if ( "+U+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+_+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=P}else u&&(a+=" if (true) {");return a}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],h=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,l="data"+(o||""),f="valid"+n,d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+a+" === false || "+a+" === undefined) "+f+" = true; else if (typeof "+a+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+l+".length , "+f+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+f+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+h:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,r,t){"use strict";var a=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var i,n=r[t].split("/"),o=e;for(i=1;i<n.length;i++)o=o[n[i]];for(i=0;i<a.length;i++){var s=a[i],h=o[s];h&&(o[s]={anyOf:[h,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,r,t){"use strict";var a=t(20).MissingRef;e.exports=function e(r,t,i){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(i=t,t=void 0);var o=s(r).then(function(){var e=n._addSchema(r,void 0,t);return e.validate||function e(r){try{return n._compile(r)}catch(e){if(e instanceof a)return function i(e){var i=e.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+e.missingRef+" cannot be resolved");var o=n._loadingSchemas[i];o||(o=n._loadingSchemas[i]=n._opts.loadSchema(i)).then(h,h);return o.then(function(e){if(!u(i))return s(e).then(function(){u(i)||n.addSchema(e,i,void 0,t)})}).then(function(){return function e(r){try{return n._compile(r)}catch(e){if(e instanceof a)return i(e);throw e}function i(a){var i=a.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+a.missingRef+" cannot be resolved");var o=n._loadingSchemas[i];return o||(o=n._loadingSchemas[i]=n._opts.loadSchema(i)).then(h,h),o.then(function(e){if(!u(i))return s(e).then(function(){u(i)||n.addSchema(e,i,void 0,t)})}).then(function(){return e(r)});function h(){delete n._loadingSchemas[i]}function u(e){return n._refs[e]||n._schemas[e]}}}(r)});function h(){delete n._loadingSchemas[i]}function u(e){return n._refs[e]||n._schemas[e]}}(e);throw e}function i(a){var i=a.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+a.missingRef+" cannot be resolved");var o=n._loadingSchemas[i];return o||(o=n._loadingSchemas[i]=n._opts.loadSchema(i)).then(h,h),o.then(function(e){if(!u(i))return s(e).then(function(){u(i)||n.addSchema(e,i,void 0,t)})}).then(function(){return e(r)});function h(){delete n._loadingSchemas[i]}function u(e){return n._refs[e]||n._schemas[e]}}}(e)});i&&o.then(function(e){i(null,e)},i);return o;function s(r){var t=r.$schema;return t&&!n.getSchema(t)?e.call(n,{$ref:t},!0):Promise.resolve()}}},function(e,r,t){"use strict";var a=/^[a-z_$][a-z0-9_$-]*$/i,i=t(82);e.exports={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){if(r.macro&&void 0!==r.valid)throw new Error('"valid" option cannot be used with macro keywords');var n=r.type;if(Array.isArray(n)){var o,s=n.length;for(o=0;o<s;o++)l(n[o]);for(o=0;o<s;o++)c(e,n[o],r)}else n&&l(n),c(e,n,r);var h=!0===r.$data&&this._opts.$data;if(h&&!r.validate)throw new Error('$data support: "validate" function is not defined');var u=r.metaSchema;u&&(h&&(u={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(u,!0))}function c(e,r,a){for(var n,o=0;o<t.length;o++){var s=t[o];if(s.type==r){n=s;break}}n||(n={type:r,rules:[]},t.push(n));var h={keyword:e,definition:a,custom:!0,code:i,implements:a.implements};n.rules.push(h),t.custom[e]=h}function l(e){if(!t.types[e])throw new Error("Unknown type "+e)}return t.keywords[e]=t.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}return this}}},function(e,r,t){"use strict";e.exports=function(e,r,t){var a,i,n=" ",o=e.level,s=e.dataLevel,h=e.schema[r],u=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,f="data"+(s||""),d="valid"+o,p="errs__"+o,m=e.opts.$data&&h&&h.$data;m?(n+=" var schema"+o+" = "+e.util.getData(h.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=h;var v,g,y,E,P,w="definition"+o,b=this.definition,_="";if(m&&b.$data){P="keywordValidate"+o;var S=b.validateSchema;n+=" var "+w+" = RULES.custom['"+r+"'].definition; var "+P+" = "+w+".validate;"}else{if(!(E=e.useCustomRule(this,h,e.schema,e)))return;i="validate.schema"+u,P=E.code,v=b.compile,g=b.inline,y=b.macro}var A=P+".errors",x="i"+o,R="ruleErr"+o,I=b.async;if(I&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(n+=A+" = null;"),n+="var "+p+" = errors;var "+d+";",m&&b.$data&&(_+="}",n+=" if ("+i+" === undefined) { "+d+" = true; } else { ",S&&(_+="}",n+=" "+d+" = "+w+".validateSchema("+i+"); if ("+d+") { ")),g)b.statements?n+=" "+E.validate+" ":n+=" "+d+" = "+E.validate+"; ";else if(y){var D=e.util.copy(e);_="";D.level++;var F="valid"+D.level;D.schema=E.validate,D.schemaPath="";var C=e.compositeRule;e.compositeRule=D.compositeRule=!0;var O=e.validate(D).replace(/validate\.schema/g,P);e.compositeRule=D.compositeRule=C,n+=" "+O}else{(k=k||[]).push(n),n="",n+="  "+P+".call( ",e.opts.passContext?n+="this":n+="self",v||!1===b.schema?n+=" , "+f+" ":n+=" , "+i+" , "+f+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",'""'!=e.errorPath&&(n+=" + "+e.errorPath);var T=s?"data"+(s-1||""):"parentData",$=s?e.dataPathArr[s]:"parentDataProperty",U=n+=" , "+T+" , "+$+" , rootData )  ";n=k.pop(),!1===b.errors?(n+=" "+d+" = ",I&&(n+="await "),n+=U+"; "):n+=I?" var "+(A="customErrors"+o)+" = null; try { "+d+" = await "+U+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } ":" "+A+" = null; "+d+" = "+U+"; "}if(b.modifying&&(n+=" if ("+T+") "+f+" = "+T+"["+$+"];"),n+=""+_,b.valid)l&&(n+=" if (true) { ");else{var k;n+=" if ( ",void 0===b.valid?(n+=" !",n+=y?""+F:""+d):n+=" "+!b.valid+" ",n+=") { ",a=this.keyword,(k=k||[]).push(n),n="",(k=k||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var L=n;n=k.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=n;n=k.pop(),g?b.errors?"full"!=b.errors&&(n+="  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+R+" = vErrors["+x+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(n+=" "+R+".schema = "+i+"; "+R+".data = "+f+"; "),n+=" } "):!1===b.errors?n+=" "+j+" ":(n+=" if ("+p+" == errors) { "+j+" } else {  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+R+" = vErrors["+x+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(n+=" "+R+".schema = "+i+"; "+R+".data = "+f+"; "),n+=" } } "):y?(n+="   var err =   ",!1!==e.createErrors?(n+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):!1===b.errors?n+=" "+j+" ":(n+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+x+"="+p+"; "+x+"<errors; "+x+"++) { var "+R+" = vErrors["+x+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+";  "+R+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(n+=" "+R+".schema = "+i+"; "+R+".data = "+f+"; "),n+=" } } else { "+j+" } "),n+=" } ",l&&(n+=" else { ")}return n}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"vote-definition/proposal",type:"object",additionalProperties:!1,required:["title"],anyOf:[{required:["text"]},{required:["externalRef"]}],properties:{title:{type:"string"},text:{type:"string"},externalRef:{type:"object",additionalProperties:!1,required:["href","hash"],properties:{href:{type:"string",format:"uri"},hash:{type:"object",additionalProperties:!1,required:["value","algo"],properties:{value:{type:"string"},algo:{enum:["sha1","sha256","sha512"]}}}}}}}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"vote-definition/vote",type:"object",required:["phasesBlockHeights","participantsChainId","type","config"],additionalProperties:!1,oneOf:[{properties:{type:{enum:[0,1]},config:{additionalProperties:!1,required:["options"],properties:{options:{type:"array",minItems:1,items:{type:"string"}},minOptions:{type:"integer",minimum:1},maxOptions:{type:"integer",minimum:{$data:"1/minOptions"},maximum:{$data:"1/options/length"}},acceptanceCriteria:{type:"object",additionalProperties:!1,properties:{weightedMinSupport:{type:"number",minimum:0,maximum:1},unweightedMinSupport:{type:"number",minimum:0,maximum:1},weightedMinTurnout:{type:"number",minimum:0,maximum:1},unweightedMinTurnout:{type:"number",minimum:0,maximum:1}}}}}}}],properties:{phasesBlockHeights:{type:"object",required:["commitStart","commitEnd","revealStart","revealEnd"],additionalProperties:!1,properties:{commitStart:{type:"integer",minimum:0},commitEnd:{type:"integer",minimum:{$data:"1/commitStartBlockHeight"}},revealStart:{type:"integer",minimum:{$data:"1/commitEndBlockHeight"}},revealEnd:{type:"integer",minimum:{$data:"1/revealStartBlockHeight"}}}},participantsChainId:{type:"string",pattern:"^[0-9a-f]{64}$"},type:{type:"integer"},config:{type:"object"},allowVoteOverwrite:{type:"boolean"}}}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",title:"Factom on-chain vote definition schema",type:"object",additionalProperties:!1,required:["vote","proposal"],properties:{proposal:{$ref:"vote-definition/proposal"},vote:{$ref:"vote-definition/vote"}}}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",title:"Factom on-chain vote schema",type:"object",additionalProperties:!1,required:["voteChainId","vote","secret","hmacAlgo"],properties:{voteChainId:{type:"string",pattern:"^[0-9a-f]{64}$"},vote:{type:"array",minItems:1},secret:{type:"string",pattern:"^[0-9a-f]*$",minLength:32},hmacAlgo:{enum:["sha1","sha256","sha512"]}}}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",title:"Factom on-chain vote participants schema",type:"array",items:{type:"object",additionalProperties:!1,required:["voterId"],properties:{voterId:{type:"string"},weight:{type:"number",minimum:0}}}}},function(e,r,t){var a=r;a.utils=t(2),a.common=t(12),a.sha=t(91),a.ripemd=t(95),a.hmac=t(96),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},function(e,r,t){"use strict";r.sha1=t(92),r.sha224=t(93),r.sha256=t(16),r.sha384=t(94),r.sha512=t(17)},function(e,r,t){"use strict";var a=t(2),i=t(12),n=t(26),o=a.rotl32,s=a.sum32,h=a.sum32_5,u=n.ft_1,c=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,r){for(var t=this.W,a=0;a<16;a++)t[a]=e[r+a];for(;a<t.length;a++)t[a]=o(t[a-3]^t[a-8]^t[a-14]^t[a-16],1);var i=this.h[0],n=this.h[1],c=this.h[2],f=this.h[3],d=this.h[4];for(a=0;a<t.length;a++){var p=~~(a/20),m=h(o(i,5),u(p,n,c,f),d,t[a],l[p]);d=f,f=c,c=o(n,30),n=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],n),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(e,r,t){"use strict";var a=t(2),i=t(16);function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(n,i),e.exports=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},function(e,r,t){"use strict";var a=t(2),i=t(17);function n(){if(!(this instanceof n))return new n;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(n,i),e.exports=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},function(e,r,t){"use strict";var a=t(2),i=t(12),n=a.rotl32,o=a.sum32,s=a.sum32_3,h=a.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,r,t,a){return e<=15?r^t^a:e<=31?r&t|~r&a:e<=47?(r|~t)^a:e<=63?r&a|t&~a:r^(t|~a)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}a.inherits(c,u),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,r){for(var t=this.h[0],a=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],y=t,E=a,P=i,w=u,b=c,_=0;_<80;_++){var S=o(n(h(t,l(_,a,i,u),e[p[_]+r],f(_)),v[_]),c);t=c,c=u,u=n(i,10),i=a,a=S,S=o(n(h(y,l(79-_,E,P,w),e[m[_]+r],d(_)),g[_]),b),y=b,b=w,w=n(P,10),P=E,E=S}S=s(this.h[1],i,w),this.h[1]=s(this.h[2],u,b),this.h[2]=s(this.h[3],c,y),this.h[3]=s(this.h[4],t,E),this.h[4]=s(this.h[0],a,P),this.h[0]=S},c.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,r,t){"use strict";var a=t(2),i=t(11);function n(e,r,t){if(!(this instanceof n))return new n(e,r,t);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(r,t))}e.exports=n,n.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=(new this.Hash).update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=(new this.Hash).update(e)},n.prototype.update=function(e,r){return this.inner.update(e,r),this},n.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,r,t){e.exports=Object.assign({},t(41),t(42))}])});